"use strict";(self.webpackChunkfirebase_angular=self.webpackChunkfirebase_angular||[]).push([[179],{35:()=>{function Re(t){return"function"==typeof t}function Ec(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Uh=Ec(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function va(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class $n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){e=s instanceof Uh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{q1(s)}catch(o){e=e??[],o instanceof Uh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Uh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)q1(e);else{if(e instanceof $n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&va(n,e)}remove(e){const{_finalizers:n}=this;n&&va(n,e),e instanceof $n&&e._removeParent(this)}}$n.EMPTY=(()=>{const t=new $n;return t.closed=!0,t})();const G1=$n.EMPTY;function W1(t){return t instanceof $n||t&&"closed"in t&&Re(t.remove)&&Re(t.add)&&Re(t.unsubscribe)}function q1(t){Re(t)?t():t.unsubscribe()}const eo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bh={setTimeout(t,e,...n){const{delegate:r}=Bh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Bh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function K1(t){Bh.setTimeout(()=>{const{onUnhandledError:e}=eo;if(!e)throw t;e(t)})}function Q1(){}const P6=Wy("C",void 0,void 0);function Wy(t,e,n){return{kind:t,value:e,error:n}}let to=null;function $h(t){if(eo.useDeprecatedSynchronousErrorHandling){const e=!to;if(e&&(to={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=to;if(to=null,n)throw r}}else t()}class qy extends $n{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,W1(e)&&e.add(this)):this.destination=$6}static create(e,n,r){return new Cc(e,n,r)}next(e){this.isStopped?Qy(function L6(t){return Wy("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Qy(function O6(t){return Wy("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qy(P6,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V6=Function.prototype.bind;function Ky(t,e){return V6.call(t,e)}class U6{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){jh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){jh(r)}else jh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jh(n)}}}class Cc extends qy{constructor(e,n,r){let i;if(super(),Re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&eo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ky(e.next,s),error:e.error&&Ky(e.error,s),complete:e.complete&&Ky(e.complete,s)}):i=e}this.destination=new U6(i)}}function jh(t){eo.useDeprecatedSynchronousErrorHandling?function F6(t){eo.useDeprecatedSynchronousErrorHandling&&to&&(to.errorThrown=!0,to.error=t)}(t):K1(t)}function Qy(t,e){const{onStoppedNotification:n}=eo;n&&Bh.setTimeout(()=>n(t,e))}const $6={closed:!0,next:Q1,error:function B6(t){throw t},complete:Q1},Yy="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ji(t){return t}function Y1(t){return 0===t.length?Ji:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ct=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function z6(t){return t&&t instanceof qy||function H6(t){return t&&Re(t.next)&&Re(t.error)&&Re(t.complete)}(t)&&W1(t)}(n)?n:new Cc(n,r,i);return $h(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=X1(r))((i,s)=>{const o=new Cc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Yy](){return this}pipe(...n){return Y1(n)(this)}toPromise(n){return new(n=X1(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function X1(t){var e;return null!==(e=t??eo.Promise)&&void 0!==e?e:Promise}const G6=Ec(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let gi=(()=>{class t extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Z1(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new G6}next(n){$h(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){$h(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$h(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?G1:(this.currentObservers=null,s.push(n),new $n(()=>{this.currentObservers=null,va(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ct;return n.source=this,n}}return t.create=(e,n)=>new Z1(e,n),t})();class Z1 extends gi{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:G1}}class nr extends gi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function J1(t){return Re(t?.lift)}function kt(t){return e=>{if(J1(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pt(t,e,n,r,i){return new W6(t,e,n,r,i)}class W6 extends qy{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Le(t,e){return kt((n,r)=>{let i=0;n.subscribe(Pt(r,s=>{r.next(t.call(e,s,i++))}))})}function Jy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function es(t){return this instanceof es?(this.v=t,this):new es(t)}function rx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function t_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ix=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function sx(t){return Re(t?.then)}function ox(t){return Re(t[Yy])}function ax(t){return Symbol.asyncIterator&&Re(t?.[Symbol.asyncIterator])}function ux(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const cx=function fH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function lx(t){return Re(t?.[cx])}function dx(t){return function nx(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof es?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield es(n.read());if(i)return yield es(void 0);yield yield es(r)}}finally{n.releaseLock()}})}function hx(t){return Re(t?.getReader)}function gr(t){if(t instanceof ct)return t;if(null!=t){if(ox(t))return function pH(t){return new ct(e=>{const n=t[Yy]();if(Re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ix(t))return function gH(t){return new ct(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(sx(t))return function mH(t){return new ct(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,K1)})}(t);if(ax(t))return fx(t);if(lx(t))return function yH(t){return new ct(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(hx(t))return function _H(t){return fx(dx(t))}(t)}throw ux(t)}function fx(t){return new ct(e=>{(function vH(t,e){var n,r,i,s;return function ex(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=rx(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function mi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Wt(t,e,n=1/0){return Re(e)?Wt((r,i)=>Le((s,o)=>e(r,s,i,o))(gr(t(r,i))),n):("number"==typeof e&&(n=e),kt((r,i)=>function wH(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;gr(n(g,l++)).subscribe(Pt(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?mi(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(Pt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function wa(t=1/0){return Wt(Ji,t)}const Pr=new ct(t=>t.complete());function n_(t){return t[t.length-1]}function Tc(t){return function EH(t){return t&&Re(t.schedule)}(n_(t))?t.pop():void 0}function Hh(t,e=0){return kt((n,r)=>{n.subscribe(Pt(r,i=>mi(r,t,()=>r.next(i),e),()=>mi(r,t,()=>r.complete(),e),i=>mi(r,t,()=>r.error(i),e)))})}function zh(t,e=0){return kt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function px(t,e){if(!t)throw new Error("Iterable cannot be null");return new ct(n=>{mi(n,e,()=>{const r=t[Symbol.asyncIterator]();mi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function qt(t,e){return e?function MH(t,e){if(null!=t){if(ox(t))return function DH(t,e){return gr(t).pipe(zh(e),Hh(e))}(t,e);if(ix(t))return function SH(t,e){return new ct(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(sx(t))return function bH(t,e){return gr(t).pipe(zh(e),Hh(e))}(t,e);if(ax(t))return px(t,e);if(lx(t))return function AH(t,e){return new ct(n=>{let r;return mi(n,e,()=>{r=t[cx](),mi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(t,e);if(hx(t))return function xH(t,e){return px(dx(t),e)}(t,e)}throw ux(t)}(t,e):gr(t)}function Y(...t){return qt(t,Tc(t))}function gx(t={}){const{connector:e=(()=>new gi),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return kt((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=r_(p,i))}),w.subscribe(m),!o&&c>0&&(o=new Cc({next:_=>w.next(_),error:_=>{d=!0,h(),a=r_(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=r_(f,r),w.complete()}}),gr(g).subscribe(o))})(s)}}function r_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Cc({next:()=>{r.unsubscribe(),t()}});return gr(e(...n)).subscribe(r)}function Or(t,e){return kt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Pt(r,u=>{i?.unsubscribe();let c=0;const l=s++;gr(t(u,l)).subscribe(i=Pt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function kH(t,e){return t===e}function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function Dt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function i_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const PH=Se({__forward_ref__:Se});function s_(t){return t.__forward_ref__=s_,t.toString=function(){return Dt(this())},t}function X(t){return o_(t)?t():t}function o_(t){return"function"==typeof t&&t.hasOwnProperty(PH)&&t.__forward_ref__===s_}function a_(t){return t&&!!t.\u0275providers}class b extends Error{constructor(e,n){super(function Wh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function te(t){return"string"==typeof t?t:null==t?"":String(t)}function qh(t,e){throw new b(-201,!1)}function rr(t,e){null==t&&function De(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ir(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kh(t){return yx(t,Qh)||yx(t,vx)}function yx(t,e){return t.hasOwnProperty(e)?t[e]:null}function _x(t){return t&&(t.hasOwnProperty(u_)||t.hasOwnProperty(jH))?t[u_]:null}const Qh=Se({\u0275prov:Se}),u_=Se({\u0275inj:Se}),vx=Se({ngInjectableDef:Se}),jH=Se({ngInjectorDef:Se});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let c_;function An(t){const e=c_;return c_=t,e}function Ix(t,e,n){const r=Kh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void qh(Dt(t))}const Pe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dc={},l_="__NG_DI_FLAG__",Yh="ngTempTokenPath",zH=/\n/gm,Ex="__source";let Ia;function ns(t){const e=Ia;return Ia=t,e}function qH(t,e=z.Default){if(void 0===Ia)throw new b(-203,!1);return null===Ia?Ix(t,void 0,e):Ia.get(t,e&z.Optional?null:void 0,e)}function H(t,e=z.Default){return(function wx(){return c_}()||qH)(X(t),e)}function V(t,e=z.Default){return H(t,Xh(e))}function Xh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function d_(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=KH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function bc(t,e){return t[l_]=e,t.prototype[l_]=e,t}function KH(t){return t[l_]}function yi(t){return{toString:t}.toString()}var Lr=(()=>((Lr=Lr||{})[Lr.OnPush=0]="OnPush",Lr[Lr.Default=1]="Default",Lr))(),Hn=(()=>{return(t=Hn||(Hn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Hn;var t})();const Fr={},we=[],Zh=Se({\u0275cmp:Se}),h_=Se({\u0275dir:Se}),f_=Se({\u0275pipe:Se}),Tx=Se({\u0275mod:Se}),_i=Se({\u0275fac:Se}),Sc=Se({__NG_ELEMENT_ID__:Se}),Dx=Se({__NG_ENV_ID__:Se});function bx(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function p_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Ax(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Sx(t){return 3===t||4===t||6===t}function Ax(t){return 64===t.charCodeAt(0)}function Ac(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xx(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function xx(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Mx="ng-template";function XH(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==bx(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Nx(t){return 4===t.type&&t.value!==Mx}function ZH(t,e,n){return e===(4!==t.type||n?t.value:Mx)}function JH(t,e,n){let r=4;const i=t.attrs||[],s=function nz(t){for(let e=0;e<t.length;e++)if(Sx(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ZH(t,u,n)||""===u&&1===e.length){if(mr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!XH(t.attrs,c,n)){if(mr(r))return!1;o=!0}continue}const d=ez(8&r?"class":u,i,Nx(t),n);if(-1===d){if(mr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==bx(f,c,0)||2&r&&c!==h){if(mr(r))return!1;o=!0}}}}else{if(!o&&!mr(r)&&!mr(u))return!1;if(o&&mr(u))continue;o=!1,r=u|1&r}}return mr(r)||o}function mr(t){return 0==(1&t)}function ez(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function rz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Rx(t,e,n=!1){for(let r=0;r<e.length;r++)if(JH(t,e[r],n))return!0;return!1}function kx(t,e){return t?":not("+e.trim()+")":e}function sz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!mr(o)&&(e+=kx(s,i),i=""),r=o,s=s||!mr(r);n++}return""!==i&&(e+=kx(s,i)),e}function g_(t){return yi(()=>{const e=Ox(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Lr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hn.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""};Lx(n);const r=t.dependencies;return n.directiveDefs=Jh(r,!1),n.pipeDefs=Jh(r,!0),n.id=function fz(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function cz(t){return Ce(t)||rn(t)}function lz(t){return null!==t}function yr(t){return yi(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Px(t,e){if(null==t)return Fr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function _n(t){return yi(()=>{const e=Ox(t);return Lx(e),e})}function Ce(t){return t[Zh]||null}function rn(t){return t[h_]||null}function Mn(t){return t[f_]||null}function zn(t,e){const n=t[Tx]||null;if(!n&&!0===e)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function Ox(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Px(t.inputs,e),outputs:Px(t.outputs)}}function Lx(t){t.features?.forEach(e=>e(t))}function Jh(t,e){if(!t)return null;const n=e?Mn:cz;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(lz)}const bt=0,P=1,re=2,Xe=3,_r=4,xc=5,sn=6,Ca=7,mt=8,Ta=9,no=10,ie=11,Mc=12,Fx=13,Da=14,yt=15,Nc=16,ba=17,Vr=18,Rc=19,Vx=20,rs=21,vi=22,ef=23,tf=24,pe=25,m_=1,Ux=2,Ur=7,Sa=9,on=11;function Gn(t){return Array.isArray(t)&&"object"==typeof t[m_]}function Nn(t){return Array.isArray(t)&&!0===t[m_]}function y_(t){return 0!=(4&t.flags)}function ro(t){return t.componentOffset>-1}function rf(t){return 1==(1&t.flags)}function vr(t){return!!t.template}function __(t){return 0!=(512&t[re])}function io(t,e){return t.hasOwnProperty(_i)?t[_i]:null}let vz=Pe.WeakRef??class _z{constructor(e){this.ref=e}deref(){return this.ref}},Iz=0,Br=null,sf=!1;function Ot(t){const e=Br;return Br=t,e}class zx{constructor(){this.id=Iz++,this.ref=function wz(t){return new vz(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=sf;sf=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{sf=e}}producerAccessed(){if(sf)throw new Error("");if(null===Br)return;let e=Br.producers.get(this.id);void 0===e?(e={consumerNode:Br.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Br.trackingVersion},Br.producers.set(this.id,e),this.consumers.set(Br.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Br.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Br?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let Gx=null;const qx=()=>{};class Dz extends zx{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=qx,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Ot(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=qx,this.watch(this.registerOnCleanup)}finally{Ot(e)}}cleanup(){this.cleanupFn()}}class bz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function so(){return Kx}function Kx(t){return t.type.prototype.ngOnChanges&&(t.setInput=Az),Sz}function Sz(){const t=Yx(this),e=t?.current;if(e){const n=t.previous;if(n===Fr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Az(t,e,n,r){const i=this.declaredInputs[n],s=Yx(t)||function xz(t,e){return t[Qx]=e}(t,{previous:Fr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new bz(u&&u.currentValue,e,a===Fr),t[r]=e}so.ngInherit=!0;const Qx="__ngSimpleChanges__";function Yx(t){return t[Qx]||null}const $r=function(t,e,n){};function $e(t){for(;Array.isArray(t);)t=t[bt];return t}function Rn(t,e){return $e(e[t.index])}function Jx(t,e){return t.data[e]}function Wn(t,e){const n=e[t];return Gn(n)?n:n[bt]}function is(t,e){return null==e?null:t[e]}function eM(t){t[ba]=0}function Lz(t){1024&t[re]||(t[re]|=1024,nM(t,1))}function tM(t){1024&t[re]&&(t[re]&=-1025,nM(t,-1))}function nM(t,e){let n=t[Xe];if(null===n)return;n[xc]+=e;let r=n;for(n=n[Xe];null!==n&&(1===e&&1===r[xc]||-1===e&&0===r[xc]);)n[xc]+=e,r=n,n=n[Xe]}const Q={lFrame:fM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sM(){return Q.bindingsEnabled}function E(){return Q.lFrame.lView}function me(){return Q.lFrame.tView}function oo(t){return Q.lFrame.contextLView=t,t[mt]}function ao(t){return Q.lFrame.contextLView=null,t}function Kt(){let t=oM();for(;null!==t&&64===t.type;)t=t.parent;return t}function oM(){return Q.lFrame.currentTNode}function jr(t,e){const n=Q.lFrame;n.currentTNode=t,n.isParent=e}function T_(){return Q.lFrame.isParent}function Ma(){return Q.lFrame.bindingIndex++}function Kz(t,e){const n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,b_(e)}function b_(t){Q.lFrame.currentDirectiveIndex=t}function A_(t){Q.lFrame.currentQueryIndex=t}function Yz(t){const e=t[P];return 2===e.type?e.declTNode:1===e.type?t[sn]:null}function dM(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=Yz(s),null===i||(s=s[Da],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Q.lFrame=hM();return r.currentTNode=e,r.lView=t,!0}function x_(t){const e=hM(),n=t[P];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function hM(){const t=Q.lFrame,e=null===t?null:t.child;return null===e?fM(t):e}function fM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pM(){const t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const gM=pM;function M_(){const t=pM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wn(){return Q.lFrame.selectedIndex}function uo(t){Q.lFrame.selectedIndex=t}function je(){Q.lFrame.currentNamespace="svg"}function He(){!function eG(){Q.lFrame.currentNamespace=null}()}let yM=!0;function lf(){return yM}function ss(t){yM=t}function df(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function hf(t,e,n){_M(t,e,3,n)}function ff(t,e,n,r){(3&t[re])===n&&_M(t,e,n,r)}function N_(t,e){let n=t[re];(3&n)===e&&(n&=8191,n+=1,t[re]=n)}function _M(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ba]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ba]+=65536),(a<s||-1==s)&&(nG(t,n,e,u),t[ba]=(4294901760&t[ba])+u+2),u++}function vM(t,e){$r(4,t,e);const n=Ot(null);try{e.call(t)}finally{Ot(n),$r(5,t,e)}}function nG(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[re]>>13<t[ba]>>16&&(3&t[re])===e&&(t[re]+=8192,vM(a,s)):vM(a,s)}const Na=-1;class Oc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function wM(t){return t!==Na}function pf(t){return 32767&t}function gf(t,e){let n=function oG(t){return t>>16}(t),r=e;for(;n>0;)r=r[Da],n--;return r}let k_=!0;function mf(t){const e=k_;return k_=t,e}const IM=255,EM=5;let aG=0;const Hr={};function yf(t,e){const n=CM(t,e);if(-1!==n)return n;const r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,P_(r.data,t),P_(e,null),P_(r.blueprint,null));const i=O_(t,e),s=t.injectorIndex;if(wM(i)){const o=pf(i),a=gf(i,e),u=a[P].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function P_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function CM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function O_(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=NM(i),null===r)return Na;if(n++,i=i[Da],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Na}function L_(t,e,n){!function uG(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sc)&&(r=n[Sc]),null==r&&(r=n[Sc]=aG++);const i=r&IM;e.data[t+(i>>EM)]|=1<<i}(t,e,n)}function TM(t,e,n){if(n&z.Optional||void 0!==t)return t;qh()}function DM(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[Ta],s=An(void 0);try{return i?i.get(e,r,n&z.Optional):Ix(e,r,n&z.Optional)}finally{An(s)}}return TM(r,0,n)}function bM(t,e,n,r=z.Default,i){if(null!==t){if(2048&e[re]&&!(r&z.Self)){const o=function fG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[re]&&!(512&o[re]);){const a=SM(s,o,n,r|z.Self,Hr);if(a!==Hr)return a;let u=s.parent;if(!u){const c=o[Vx];if(c){const l=c.get(n,Hr,r);if(l!==Hr)return l}u=NM(o),o=o[Da]}s=u}return i}(t,e,n,r,Hr);if(o!==Hr)return o}const s=SM(t,e,n,r,Hr);if(s!==Hr)return s}return DM(e,n,r,i)}function SM(t,e,n,r,i){const s=function dG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Sc)?t[Sc]:void 0;return"number"==typeof e?e>=0?e&IM:hG:e}(n);if("function"==typeof s){if(!dM(e,t,r))return r&z.Host?TM(i,0,r):DM(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;qh()}finally{gM()}}else if("number"==typeof s){let o=null,a=CM(t,e),u=Na,c=r&z.Host?e[yt][sn]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?O_(t,e):e[a+8],u!==Na&&xM(r,!1)?(o=e[P],a=pf(u),e=gf(u,e)):a=-1);-1!==a;){const l=e[P];if(AM(s,a,l.data)){const d=lG(a,e,n,o,r,c);if(d!==Hr)return d}u=e[a+8],u!==Na&&xM(r,e[P].data[a+8]===c)&&AM(s,a,e)?(o=l,a=pf(u),e=gf(u,e)):a=-1}}return i}function lG(t,e,n,r,i,s){const o=e[P],a=o.data[t+8],l=function _f(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&vr(f)&&f.type===n)return u}return null}(a,o,n,null==r?ro(a)&&k_:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?co(e,o,l,a):Hr}function co(t,e,n,r){let i=t[n];const s=e.data;if(function rG(t){return t instanceof Oc}(i)){const o=i;o.resolving&&function OH(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Te(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():te(t)}(s[n]));const a=mf(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?An(o.injectImpl):null;dM(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function tG(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Kx(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&An(u),mf(a),o.resolving=!1,gM()}}return i}function AM(t,e,n){return!!(n[e+(t>>EM)]&1<<t)}function xM(t,e){return!(t&z.Self||t&z.Host&&e)}class Ra{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bM(this._tNode,this._lView,e,Xh(r),n)}}function hG(){return new Ra(Kt(),E())}function F_(t){return o_(t)?()=>{const e=F_(X(t));return e&&e()}:io(t)}function NM(t){const e=t[P],n=e.type;return 2===n?e.declTNode:1===n?t[sn]:null}const Pa="__parameters__";function La(t,e,n){return yi(()=>{const r=function V_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Pa)?u[Pa]:Object.defineProperty(u,Pa,{value:[]})[Pa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Vc(t,e){t.forEach(n=>Array.isArray(n)?Vc(n,e):e(n))}function kM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const At=bc(La("Optional"),8),Ef=bc(La("SkipSelf"),4);function bf(t){return 128==(128&t.flags)}var kn=(()=>((kn=kn||{})[kn.Important=1]="Important",kn[kn.DashCase=2]="DashCase",kn))();const G_=new Map;let jG=0;const q_="__ngContext__";function an(t,e){Gn(e)?(t[q_]=e[Rc],function zG(t){G_.set(t[Rc],t)}(e)):t[q_]=e}let K_;function Q_(t,e){return K_(t,e)}function jc(t){const e=t[Xe];return Nn(e)?e[Xe]:e}function eN(t){return nN(t[Mc])}function tN(t){return nN(t[_r])}function nN(t){for(;null!==t&&!Nn(t);)t=t[_r];return t}function Ba(t,e,n,r,i){if(null!=r){let s,o=!1;Nn(r)?s=r:Gn(r)&&(o=!0,r=r[bt]);const a=$e(r);0===t&&null!==n?null==i?aN(e,n,a):lo(e,n,a,i||null,!0):1===t&&null!==n?lo(e,n,a,i||null,!0):2===t?function Rf(t,e,n){const r=Mf(t,e);r&&function c9(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function h9(t,e,n,r,i){const s=n[Ur];s!==$e(n)&&Ba(e,t,r,s,i);for(let a=on;a<n.length;a++){const u=n[a];zc(u[P],u,t,e,r,s)}}(e,t,s,n,i)}}function xf(t,e,n){return t.createElement(e,n)}function iN(t,e){const n=t[Sa],r=n.indexOf(e);tM(e),n.splice(r,1)}function X_(t,e){if(t.length<=on)return;const n=on+e,r=t[n];if(r){const i=r[Nc];null!==i&&i!==t&&iN(i,r),e>0&&(t[n-1][_r]=r[_r]);const s=wf(t,on+e);!function t9(t,e){zc(t,e,e[ie],2,null,null),e[bt]=null,e[sn]=null}(r[P],r);const o=s[Vr];null!==o&&o.detachView(s[P]),r[Xe]=null,r[_r]=null,r[re]&=-129}return r}function sN(t,e){if(!(256&e[re])){const n=e[ie];e[ef]?.destroy(),e[tf]?.destroy(),n.destroyNode&&zc(t,e,n,3,null,null),function i9(t){let e=t[Mc];if(!e)return Z_(t[P],t);for(;e;){let n=null;if(Gn(e))n=e[Mc];else{const r=e[on];r&&(n=r)}if(!n){for(;e&&!e[_r]&&e!==t;)Gn(e)&&Z_(e[P],e),e=e[Xe];null===e&&(e=t),Gn(e)&&Z_(e[P],e),n=e&&e[_r]}e=n}}(e)}}function Z_(t,e){if(!(256&e[re])){e[re]&=-129,e[re]|=256,function u9(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Oc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];$r(4,a,u);try{u.call(a)}finally{$r(5,a,u)}}else{$r(4,i,s);try{s.call(i)}finally{$r(5,i,s)}}}}}(t,e),function a9(t,e){const n=t.cleanup,r=e[Ca];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ca]=null);const i=e[rs];if(null!==i){e[rs]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[P].type&&e[ie].destroy();const n=e[Nc];if(null!==n&&Nn(e[Xe])){n!==e[Xe]&&iN(n,e);const r=e[Vr];null!==r&&r.detachView(t)}!function GG(t){G_.delete(t[Rc])}(e)}}function J_(t,e,n){return function oN(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[bt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Hn.None||s===Hn.Emulated)return null}return Rn(r,n)}}(t,e.parent,n)}function lo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function aN(t,e,n){t.appendChild(e,n)}function uN(t,e,n,r,i){null!==r?lo(t,e,n,r,i):aN(t,e,n)}function Mf(t,e){return t.parentNode(e)}let ev,iv,dN=function lN(t,e,n){return 40&t.type?Rn(t,n):null};function Nf(t,e,n,r){const i=J_(t,r,e),s=e[ie],a=function cN(t,e,n){return dN(t,e,n)}(r.parent||e[sn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)uN(s,i,n[u],a,!1);else uN(s,i,n,a,!1);void 0!==ev&&ev(s,r,e,n,i)}function Hc(t,e){if(null!==e){const n=e.type;if(3&n)return Rn(e,t);if(4&n)return tv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Hc(t,r);{const i=t[e.index];return Nn(i)?tv(-1,i):$e(i)}}if(32&n)return Q_(e,t)()||$e(t[e.index]);{const r=fN(t,e);return null!==r?Array.isArray(r)?r[0]:Hc(jc(t[yt]),r):Hc(t,e.next)}}return null}function fN(t,e){return null!==e?t[yt][sn].projection[e.projection]:null}function tv(t,e){const n=on+t+1;if(n<e.length){const r=e[n],i=r[P].firstChild;if(null!==i)return Hc(r,i)}return e[Ur]}function nv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&an($e(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)nv(t,e,n.child,r,i,s,!1),Ba(e,t,i,a,s);else if(32&u){const c=Q_(n,r);let l;for(;l=c();)Ba(e,t,i,l,s);Ba(e,t,i,a,s)}else 16&u?gN(t,e,r,n,i,s):Ba(e,t,i,a,s);n=o?n.projectionNext:n.next}}function zc(t,e,n,r,i,s){nv(n,r,t.firstChild,e,i,s,!1)}function gN(t,e,n,r,i,s){const o=n[yt],u=o[sn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ba(e,t,i,u[c],s);else{let c=u;const l=o[Xe];bf(r)&&(c.flags|=128),nv(t,e,c,l,i,s,!0)}}function mN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function yN(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&p_(t,e,r),null!==i&&mN(t,e,i),null!==s&&function p9(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qc=new B("ENVIRONMENT_INITIALIZER"),NN=new B("INJECTOR",-1),RN=new B("INJECTOR_DEF_TYPES");class kN{get(e,n=Dc){if(n===Dc){const r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}}function $9(...t){return{\u0275providers:ON(0,t),\u0275fromNgModule:!0}}function ON(t,...e){const n=[],r=new Set;let i;return Vc(e,s=>{const o=s;lv(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&LN(i,n),n}function LN(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];dv(i,s=>{e.push(s)})}}function lv(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=_x(t);const o=!s&&Ce(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=_x(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)lv(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Vc(s.imports,l=>{lv(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&LN(c,e)}if(!a){const c=io(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:we},{provide:RN,useValue:i,multi:!0},{provide:Qc,useValue:()=>H(i),multi:!0})}const u=s.providers;null==u||a||dv(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function dv(t,e){for(let n of t)a_(n)&&(n=n.\u0275providers),Array.isArray(n)?dv(n,e):e(n)}const j9=Se({provide:String,useValue:Se});function hv(t){return null!==t&&"object"==typeof t&&j9 in t}function ho(t){return"function"==typeof t}const fv=new B("Set Injector scope."),Lf={},z9={};let pv;function Ff(){return void 0===pv&&(pv=new kN),pv}class Ci{}class gv extends Ci{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yv(e,o=>this.processProvider(o)),this.records.set(NN,ja(void 0,this)),i.has("environment")&&this.records.set(Ci,ja(void 0,this));const s=this.records.get(fv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(RN.multi,we,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ns(this),r=An(void 0);try{return e()}finally{ns(n),An(r)}}get(e,n=Dc,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Dx))return e[Dx](this);r=Xh(r);const i=ns(this),s=An(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Q9(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&Kh(e);a=u&&this.injectableDefInScope(u)?ja(mv(e),Lf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?Ff():this.parent).get(e,n=r&z.Optional&&n===Dc?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Yh]=o[Yh]||[]).unshift(Dt(e)),i)throw o;return function QH(t,e,n,r){const i=t[Yh];throw e[Ex]&&i.unshift(e[Ex]),t.message=function YH(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Dt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zH,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Yh]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{An(s),ns(i)}}resolveInjectorInitializers(){const e=ns(this),n=An(void 0);try{const r=this.get(Qc.multi,we,z.Self);for(const i of r)i()}finally{ns(e),An(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=ho(e=X(e))?e:X(e&&e.provide);const r=function W9(t){return hv(t)?ja(void 0,t.useValue):ja(function UN(t,e,n){let r;if(ho(t)){const i=X(t);return io(i)||mv(i)}if(hv(t))r=()=>X(t.useValue);else if(function VN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...d_(t.deps||[]));else if(function FN(t){return!(!t||!t.useExisting)}(t))r=()=>H(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function q9(t){return!!t.deps}(t))return io(i)||mv(i);r=()=>new i(...d_(t.deps))}return r}(t),Lf)}(e);if(ho(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ja(void 0,Lf,!0),i.factory=()=>d_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Lf&&(n.value=z9,n.value=n.factory()),"object"==typeof n.value&&n.value&&function K9(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function mv(t){const e=Kh(t),n=null!==e?e.factory:io(t);if(null!==n)return n;if(t instanceof B)throw new b(204,!1);if(t instanceof Function)return function G9(t){const e=t.length;if(e>0)throw function Uc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function $H(t){return t&&(t[Qh]||t[vx])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function ja(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yv(t,e){for(const n of t)Array.isArray(n)?yv(n,e):n&&a_(n)?yv(n.\u0275providers,e):e(n)}const Vf=new B("AppId",{providedIn:"root",factory:()=>Y9}),Y9="ng",BN=new B("Platform Initializer"),as=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$N=new B("CSP nonce",{providedIn:"root",factory:()=>function Gc(){if(void 0!==iv)return iv;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let HN=(t,e)=>null;function zN(t,e){return HN(t,e)}class s7{}class qN{}class a7{resolveComponentFactory(e){throw function o7(t){const e=Error(`No component factory found for ${Dt(t)}.`);return e.ngComponent=t,e}(e)}}let Hf=(()=>{class t{}return t.NULL=new a7,t})();function u7(){return Ha(Kt(),E())}function Ha(t,e){return new us(Rn(t,e))}let us=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=u7,t})();class QN{}let d7=(()=>{class t{}return t.\u0275prov=W({token:t,providedIn:"root",factory:()=>null}),t})();class Jc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const YN=new Jc("16.1.4"),Av={};function el(t){for(;t;){t[re]|=64;const e=jc(t);if(__(t)&&!e)return t;t=e}return null}function xv(t){return t.ngOriginalError}class fo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xv(e);for(;n&&xv(n);)n=xv(n);return n||null}}const JN=new B("",{providedIn:"root",factory:()=>!1});function Ti(t){return t instanceof Function?t():t}class iR extends zx{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){el(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Ot(this);this.trackingVersion++;try{e(n,r)}finally{Ot(i)}}destroy(){this.trackingVersion++}}let Wf=null;function sR(){return Wf??=new iR,Wf}function oR(t,e){return t[e]??sR()}function aR(t,e){const n=sR();n.hasReadASignal&&(t[e]=Wf,n.lView=t,Wf=new iR)}const se={};function cs(t){uR(me(),E(),wn()+t,!1)}function uR(t,e,n,r){if(!r)if(3==(3&e[re])){const s=t.preOrderCheckHooks;null!==s&&hf(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ff(e,s,0,n)}uo(n)}function hR(t,e=null,n=null,r){const i=fR(t,e,n,r);return i.resolveInjectorInitializers(),i}function fR(t,e=null,n=null,r,i=new Set){const s=[n||we,$9(t)];return r=r||("object"==typeof t?void 0:Dt(t)),new gv(s,e||Ff(),r||null,i)}let Kn=(()=>{class t{static create(n,r){if(Array.isArray(n))return hR({name:""},r,n,"");{const i=n.name??"";return hR({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Dc,t.NULL=new kN,t.\u0275prov=W({token:t,providedIn:"any",factory:()=>H(NN)}),t.__NG_ELEMENT_ID__=-1,t})();function q(t,e=z.Default){const n=E();return null===n?H(t,e):bM(Kt(),n,X(t),e)}function qf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[bt]=i,d[re]=140|r,(null!==c||t&&2048&t[re])&&(d[re]|=2048),eM(d),d[Xe]=d[Da]=t,d[mt]=n,d[no]=o||t&&t[no],d[ie]=a||t&&t[ie],d[Ta]=u||t&&t[Ta]||null,d[sn]=s,d[Rc]=function HG(){return jG++}(),d[vi]=l,d[Vx]=c,d[yt]=2==e.type?t[yt]:d,d}function Ga(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Mv(t,e,n,r,i){const s=oM(),o=T_(),u=t.data[e]=function R7(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function xa(){return null!==Q.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function qz(){return Q.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Pc(){const t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return jr(s,!0),s}function tl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gR(t,e,n,r,i){const s=oR(e,ef),o=wn(),a=2&r;try{if(uo(-1),a&&e.length>pe&&uR(t,e,pe,!1),$r(a?2:0,i),a)s.runInContext(n,r,i);else{const c=Ot(null);try{n(r,i)}finally{Ot(c)}}}finally{a&&null===e[ef]&&aR(e,ef),uo(o),$r(a?3:1,i)}}function Nv(t,e,n){if(y_(e)){const r=Ot(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ot(r)}}}function Rv(t,e,n){sM()&&(function U7(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ro(n)&&function W7(t,e,n){const r=Rn(e,t),i=mR(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Kf(t,qf(t,i,null,o,r,e,null,t[no].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||yf(n,e),an(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=co(e,t,a,n);an(c,e),null!==o&&q7(0,a-i,c,u,0,o),vr(u)&&(Wn(n.index,e)[mt]=co(e,t,a,n))}}(t,e,n,Rn(n,e)),64==(64&n.flags)&&IR(t,e,n))}function kv(t,e,n=Rn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function mR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Pv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Pv(t,e,n,r,i,s,o,a,u,c,l){const d=pe+r,h=d+i,f=function b7(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:se);return n}(d,h),p="function"==typeof c?c():c;return f[P]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let yR=t=>null;function _R(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?vR(n,e,i,s):r.hasOwnProperty(i)&&vR(n,e,r[i],s)}return n}function vR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Ov(t,e,n,r){if(sM()){const i=null===r?null:{"":-1},s=function $7(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Rx(e,o.selectors,!1))if(r||(r=[]),vr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Lv(t,e,a.length)}else r.unshift(o),Lv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&wR(t,e,n,o,i,a),i&&function j7(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ac(n.mergedAttrs,n.attrs)}function wR(t,e,n,r,i,s){for(let c=0;c<r.length;c++)L_(yf(n,e),t,r[c].type);!function z7(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=tl(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Ac(n.mergedAttrs,l.hostAttrs),G7(t,n,e,u,l),H7(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function k7(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=_R(d.inputs,l,u,h?h.inputs:null),c=_R(d.outputs,l,c,p);const g=null===u||null===o||Nx(e)?null:K7(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function IR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Qz(){return Q.lFrame.currentDirectiveIndex}();try{uo(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];b_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&B7(u,c)}}finally{uo(-1),b_(o)}}function B7(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Lv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function H7(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function G7(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=io(i.type)),o=new Oc(s,vr(i),q);t.blueprint[r]=o,n[r]=o,function F7(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function V7(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,tl(t,n,i.hostVars,se),i)}function q7(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)ER(r,n,o[a++],o[a++],o[a++])}function ER(t,e,n,r,i){const s=Ot(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Ot(s)}}function K7(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function CR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function TR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];A_(n[r]),o.contentQueries(2,e[s],s)}}}function Kf(t,e){return t[Mc]?t[Fx][_r]=e:t[Mc]=e,t[Fx]=e,e}function Vv(t,e,n){A_(0);const r=Ot(null);try{e(t,n)}finally{Ot(r)}}function AR(t,e){const n=t[Ta],r=n?n.get(fo,null):null;r&&r.handleError(e)}function Uv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];ER(t.data[o],e[o],r,a,i)}}function Di(t,e,n){const r=function cf(t,e){return $e(e[t])}(e,t);!function rN(t,e,n){t.setValue(e,n)}(t[ie],r,n)}function Q7(t,e){const n=Wn(e,t),r=n[P];!function Y7(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[bt];null!==i&&null===n[vi]&&(n[vi]=zN(i,n[Ta])),Bv(r,n,n[mt])}function Bv(t,e,n){x_(e);try{const r=t.viewQuery;null!==r&&Vv(1,r,n);const i=t.template;null!==i&&gR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&TR(t,e),t.staticViewQueries&&Vv(2,t.viewQuery,n);const s=t.components;null!==s&&function X7(t,e){for(let n=0;n<e.length;n++)Q7(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,M_()}}let xR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new Dz(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=W({token:t,providedIn:"root",factory:()=>new t}),t})();function Qf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=i_(i,a):2==s&&(r=i_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function nl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push($e(s)),Nn(s)){for(let a=on;a<s.length;a++){const u=s[a],c=u[P].firstChild;null!==c&&nl(u[P],u,c,r)}s[Ur]!==s[bt]&&r.push(s[Ur])}const o=n.type;if(8&o)nl(t,e,n.child,r);else if(32&o){const a=Q_(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=fN(e,n);if(Array.isArray(a))r.push(...a);else{const u=jc(e[yt]);nl(u[P],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Yf(t,e,n,r=!0){const i=e[no].rendererFactory;i.begin&&i.begin();try{MR(t,e,t.template,n)}catch(o){throw r&&AR(e,o),o}finally{i.end&&i.end(),e[no].effectManager?.flush()}}function MR(t,e,n,r){const i=e[re];if(256!=(256&i)){e[no].effectManager?.flush(),x_(e);try{eM(e),function uM(t){return Q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&gR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&hf(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ff(e,c,0,null),N_(e,0)}if(function n8(t){for(let e=eN(t);null!==e;e=tN(e)){if(!e[Ux])continue;const n=e[Sa];for(let r=0;r<n.length;r++){Lz(n[r])}}}(e),NR(e,2),null!==t.contentQueries&&TR(t,e),o){const c=t.contentCheckHooks;null!==c&&hf(e,c)}else{const c=t.contentHooks;null!==c&&ff(e,c,1),N_(e,1)}!function D7(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=oR(e,tf);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)uo(~s);else{const o=s,a=n[++i],u=n[++i];Kz(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[tf]&&aR(e,tf),uo(-1)}}(t,e);const a=t.components;null!==a&&kR(e,a,0);const u=t.viewQuery;if(null!==u&&Vv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&hf(e,c)}else{const c=t.viewHooks;null!==c&&ff(e,c,2),N_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[re]&=-73,tM(e)}finally{M_()}}}function NR(t,e){for(let n=eN(t);null!==n;n=tN(n))for(let r=on;r<n.length;r++)RR(n[r],e)}function r8(t,e,n){RR(Wn(e,t),n)}function RR(t,e){if(!function Pz(t){return 128==(128&t[re])}(t))return;const n=t[P];if(80&t[re]&&0===e||1024&t[re]||2===e)MR(n,t,n.template,t[mt]);else if(t[xc]>0){NR(t,1);const i=t[P].components;null!==i&&kR(t,i,1)}}function kR(t,e,n){for(let r=0;r<e.length;r++)r8(t,e[r],n)}class rl{get rootNodes(){const e=this._lView,n=e[P];return nl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mt]}set context(e){this._lView[mt]=e}get destroyed(){return 256==(256&this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Xe];if(Nn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(X_(e,r),wf(n,r))}this._attachedToViewContainer=!1}sN(this._lView[P],this._lView)}onDestroy(e){!function rM(t,e){if(256==(256&t[re]))throw new b(911,!1);null===t[rs]&&(t[rs]=[]),t[rs].push(e)}(this._lView,e)}markForCheck(){el(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){this._lView[re]|=128}detectChanges(){Yf(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function r9(t,e){zc(t,e,e[ie],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class i8 extends rl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Yf(e[P],e,e[mt],!1)}checkNoChanges(){}get context(){return null}}class PR extends Hf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ce(e);return new il(n,this.ngModule)}}function OR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class o8{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xh(r);const i=this.injector.get(e,Av,r);return i!==Av||n===Av?i:this.parentInjector.get(e,n,r)}}class il extends qN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=OR(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return OR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function oz(t){return t.map(sz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ci?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new o8(e,s):e,a=o.get(QN,null);if(null===a)throw new b(407,!1);const l={rendererFactory:a,sanitizer:o.get(d7,null),effectManager:o.get(xR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function S7(t,e,n,r){const s=r.get(JN,!1)||n===Hn.ShadowDom,o=t.selectRootElement(e,s);return function A7(t){yR(t)}(o),o}(d,r,this.componentDef.encapsulation,o):xf(d,h,function s8(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),m=this.componentDef.signals?4608:this.componentDef.onPush?576:528,w=Pv(0,null,null,1,0,null,null,null,null,null,null),_=qf(null,w,null,m,null,null,l,d,o,null,null);let T,O;x_(_);try{const F=this.componentDef;let ee,ut=null;F.findHostDirectiveDefs?(ee=[],ut=new Map,F.findHostDirectiveDefs(F,ee,ut),ee.push(F)):ee=[F];const kr=function u8(t,e){const n=t[P],r=pe;return t[r]=e,Ga(n,r,2,"#host",null)}(_,f),Js=function c8(t,e,n,r,i,s,o){const a=i[P];!function l8(t,e,n,r){for(const i of t)e.mergedAttrs=Ac(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Qf(e,e.mergedAttrs,!0),null!==n&&yN(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=zN(e,i[Ta]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=qf(i,mR(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Lv(a,t,r.length-1),Kf(i,d),i[t.index]=d}(kr,f,F,ee,_,l,d);O=Jx(w,pe),f&&function h8(t,e,n,r){if(r)p_(t,n,["ng-version",YN.full]);else{const{attrs:i,classes:s}=function az(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!mr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&p_(t,n,i),s&&s.length>0&&mN(t,n,s.join(" "))}}(d,F,f,r),void 0!==n&&function f8(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(O,this.ngContentSelectors,n),T=function d8(t,e,n,r,i,s){const o=Kt(),a=i[P],u=Rn(o,i);wR(a,i,o,n,null,r);for(let l=0;l<n.length;l++)an(co(i,a,o.directiveStart+l,o),i);IR(a,i,o),u&&an(u,i);const c=co(i,a,o.directiveStart+o.componentOffset,o);if(t[mt]=i[mt]=c,null!==s)for(const l of s)l(c,e);return Nv(a,o,t),c}(Js,F,ee,ut,_,[p8]),Bv(w,_,null)}finally{M_()}return new a8(this.componentType,T,Ha(O,_),_,O)}}class a8 extends s7{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new i8(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Uv(s[P],s,i,e,n),this.previousInputValues.set(e,n),el(Wn(this._tNode.index,s))}}get injector(){return new Ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function p8(){const t=Kt();df(E()[P],t)}function un(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function go(t,e,n,r,i,s,o,a){const u=E(),c=me(),l=t+pe,d=c.firstCreatePass?function H8(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ga(e,t,4,o||null,is(c,a));Ov(e,n,l,is(c,u)),df(e,l);const d=l.tView=Pv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];jr(d,!1);const h=ek(c,u,d,t);lf()&&Nf(c,u,h,d),an(h,u),Kf(u,u[l]=CR(h,u,h,d)),rf(d)&&Rv(c,u,d),null!=o&&kv(u,d,a)}let ek=function tk(t,e,n,r){return ss(!0),e[ie].createComment("")};function ls(t){return function Aa(t,e){return t[e]}(function Wz(){return Q.lFrame.contextLView}(),pe+t)}function ds(t,e,n){const r=E();return un(r,Ma(),e)&&function Qn(t,e,n,r,i,s,o,a){const u=Rn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Uv(t,n,l,r,i),ro(e)&&function O7(t,e){const n=Wn(e,t);16&n[re]||(n[re]|=64)}(n,e.index)):3&e.type&&(r=function P7(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(me(),function Ze(){const t=Q.lFrame;return Jx(t.tView,t.selectedIndex)}(),r,t,e,r[ie],n,!1),ds}function Kv(t,e,n,r,i){const o=i?"class":"style";Uv(t,n,e.inputs[o],o,r)}function N(t,e,n,r){const i=E(),s=me(),o=pe+t,a=i[ie],u=s.firstCreatePass?function q8(t,e,n,r,i,s){const o=e.consts,u=Ga(e,t,2,r,is(o,i));return Ov(e,n,u,is(o,s)),null!==u.attrs&&Qf(u,u.attrs,!1),null!==u.mergedAttrs&&Qf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=nk(s,i,u,a,e,t);i[o]=c;const l=rf(u);return jr(u,!0),yN(a,c,u),32!=(32&u.flags)&&lf()&&Nf(s,i,c,u),0===function Vz(){return Q.lFrame.elementDepthCount}()&&an(c,i),function Uz(){Q.lFrame.elementDepthCount++}(),l&&(Rv(s,i,u),Nv(s,u,i)),null!==r&&kv(i,u),N}function $(){let t=Kt();T_()?function D_(){Q.lFrame.isParent=!1}():(t=t.parent,jr(t,!1));const e=t;(function $z(t){return Q.skipHydrationRootTNode===t})(e)&&function Gz(){Q.skipHydrationRootTNode=null}(),function Bz(){Q.lFrame.elementDepthCount--}();const n=me();return n.firstCreatePass&&(df(n,t),y_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function iG(t){return 0!=(8&t.flags)}(e)&&Kv(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function sG(t){return 0!=(16&t.flags)}(e)&&Kv(n,e,E(),e.stylesWithoutHost,!1),$}function ye(t,e,n,r){return N(t,e,n,r),$(),ye}let nk=(t,e,n,r,i,s)=>(ss(!0),xf(r,i,function mM(){return Q.lFrame.currentNamespace}()));function rp(t){return!!t&&"function"==typeof t.then}function ok(t){return!!t&&"function"==typeof t.subscribe}function bi(t,e,n,r){const i=E(),s=me(),o=Kt();return function uk(t,e,n,r,i,s,o){const a=rf(r),c=t.firstCreatePass&&function bR(t){return t.cleanup||(t.cleanup=[])}(t),l=e[mt],d=function DR(t){return t[Ca]||(t[Ca]=[])}(e);let h=!0;if(3&r.type||o){const g=Rn(r,e),m=o?o(g):g,w=d.length,_=o?O=>o($e(O[r.index])):r.index;let T=null;if(!o&&a&&(T=function J8(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ca],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1;else{s=lk(r,e,l,s,!1);const O=n.listen(m,i,s);d.push(s,O),c&&c.push(i,_,w,w+1)}}else s=lk(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const F=e[p[m]][p[m+1]].subscribe(s),ee=d.length;d.push(s,F),c&&c.push(i,r.index,ee,-(ee+1))}}}(s,i,i[ie],o,t,e,r),bi}function ck(t,e,n,r){try{return $r(6,e,n),!1!==n(r)}catch(i){return AR(t,i),!1}finally{$r(7,e,n)}}function lk(t,e,n,r,i){return function s(o){if(o===Function)return r;el(t.componentOffset>-1?Wn(t.index,e):e);let u=ck(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=ck(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Ie(t,e=""){const n=E(),r=me(),i=t+pe,s=r.firstCreatePass?Ga(r,i,1,e,null):r.data[i],o=Ok(r,n,s,e,t);n[i]=o,lf()&&Nf(r,n,o,s),jr(s,!1)}let Ok=(t,e,n,r,i)=>(ss(!0),function Af(t,e){return t.createText(e)}(e[ie],r));function op(t,e,n){const r=E(),i=function qa(t,e,n,r){return un(t,Ma(),n)?e+te(n)+r:se}(r,t,e,n);return i!==se&&Di(r,wn(),i),op}const ru="en-US";let iP=ru;class iu{}class MP{}class uw extends iu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new PR(this);const i=zn(e);this._bootstrapComponents=Ti(i.bootstrap),this._r3Injector=fR(e,n,[{provide:iu,useValue:this},{provide:Hf,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class cw extends MP{constructor(e){super(),this.moduleType=e}create(e){return new uw(this.moduleType,e,[])}}class NP extends iu{constructor(e){super(),this.componentFactoryResolver=new PR(this),this.instance=null;const n=new gv([...e.providers,{provide:iu,useValue:this},{provide:Hf,useValue:this.componentFactoryResolver}],e.parent||Ff(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function lw(t,e,n=null){return new NP({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Qq=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=ON(0,n.type),i=r.length>0?lw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(H(Ci))}),t})();function RP(t){t.getStandaloneInjector=e=>e.get(Qq).getOrCreateStandaloneInjector(t)}function hw(t){return e=>{setTimeout(t,void 0,e)}}const En=class IK extends gi{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=hw(s),i&&(i=hw(i)),o&&(o=hw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof $n&&e.add(a),a}};let Si=(()=>{class t{}return t.__NG_ELEMENT_ID__=DK,t})();const CK=Si,TK=class extends CK{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const o=this._declarationTContainer.tView,a=qf(this._declarationLView,o,e,4096&this._declarationLView[re]?4096:16,null,o.declTNode,null,null,null,n||null,r||null);a[Nc]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[Vr];return null!==c&&(a[Vr]=c.createEmbeddedView(o)),Bv(o,a,e),new rl(a)}};function DK(){return function dp(t,e){return 4&t.type?new TK(e,t,Ha(t,e)):null}(Kt(),E())}let Er=(()=>{class t{}return t.__NG_ELEMENT_ID__=RK,t})();function RK(){return function QP(t,e){let n;const r=e[t.index];return Nn(r)?n=r:(n=CR(r,e,null,t),e[t.index]=n,Kf(e,n)),YP(n,e,t,r),new qP(n,t,e)}(Kt(),E())}const kK=Er,qP=class extends kK{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ha(this._hostTNode,this._hostLView)}get injector(){return new Ra(this._hostTNode,this._hostLView)}get parentInjector(){const e=O_(this._hostTNode,this._hostLView);if(wM(e)){const n=gf(e,this._hostLView),r=pf(e);return new Ra(n[P].data[r+8],n)}return new Ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=KP(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Fc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new il(Ce(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(Ci,null);m&&(s=m)}Ce(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[P];if(function Oz(t){return Nn(t[Xe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Xe],l=new qP(c,c[sn],c[Xe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function s9(t,e,n,r){const i=on+r,s=n.length;r>0&&(n[i-1][_r]=e),r<s-on?(e[_r]=n[i],kM(n,on+r,e)):(n.push(e),e[_r]=null),e[Xe]=n;const o=e[Nc];null!==o&&n!==o&&function o9(t,e){const n=t[Sa];e[yt]!==e[Xe][Xe][yt]&&(t[Ux]=!0),null===n?t[Sa]=[e]:n.push(e)}(o,e);const a=e[Vr];null!==a&&a.insertView(t),e[re]|=128}(s,i,a,o),!r){const u=tv(o,a),c=i[ie],l=Mf(c,a[Ur]);null!==l&&function n9(t,e,n,r,i,s){r[bt]=i,r[sn]=e,zc(t,r,n,1,i,s)}(s,a[sn],c,i,l,u)}return e.attachToViewContainerRef(),kM(gw(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=KP(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=X_(this._lContainer,n);r&&(wf(gw(this._lContainer),n),sN(r[P],r))}detach(e){const n=this._adjustIndex(e,-1),r=X_(this._lContainer,n);return r&&null!=wf(gw(this._lContainer),n)?new rl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function KP(t){return t[8]}function gw(t){return t[8]||(t[8]=[])}let YP=function XP(t,e,n,r){if(t[Ur])return;let i;i=8&n.type?$e(r):function PK(t,e){const n=t[ie],r=n.createComment(""),i=Rn(e,t);return lo(n,Mf(n,i),r,function l9(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ur]=i};const bw=new B("Application Initializer");let Sw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(bw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(rp(s))n.push(s);else if(ok(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),EO=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ai=new B("LocaleId",{providedIn:"root",factory:()=>V(Ai,z.Optional|z.SkipSelf)||function dQ(){return typeof $localize<"u"&&$localize.locale||ru}()});let CO=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class fQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let TO=(()=>{class t{compileModuleSync(n){return new cw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Ti(zn(n).declarations).reduce((o,a)=>{const u=Ce(a);return u&&o.push(new il(u)),o},[]);return new fQ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function SO(...t){}class ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new En(!1),this.onMicrotaskEmpty=new En(!1),this.onStable=new En(!1),this.onError=new En(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function mQ(){const t="function"==typeof Pe.requestAnimationFrame;let e=Pe[t?"requestAnimationFrame":"setTimeout"],n=Pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function vQ(t){const e=()=>{!function _Q(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xw(t),t.isCheckStableRunning=!0,Aw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return AO(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),xO(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return AO(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),xO(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,xw(t),Aw(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ke.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(ke.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,yQ,SO,SO);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const yQ={};function Aw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function AO(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xO(t){t._nesting--,Aw(t)}class wQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new En,this.onMicrotaskEmpty=new En,this.onStable=new En,this.onError=new En}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const MO=new B("",{providedIn:"root",factory:NO});function NO(){const t=V(ke);let e=!0;return function NH(...t){const e=Tc(t),n=function TH(t,e){return"number"==typeof n_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?gr(r[0]):wa(n)(qt(r,e)):Pr}(new ct(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ct(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{ke.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(gx()))}const RO=new B(""),fp=new B("");let Rw,Mw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rw||(function IQ(t){Rw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(H(ke),H(Nw),H(fp))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),Nw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Rw?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),fs=null;const kO=new B("AllowMultipleToken"),kw=new B("PlatformDestroyListeners"),Pw=new B("appBootstrapListener");class OO{constructor(e,n){this.name=e,this.token=n}}function FO(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=Ow();if(!o||o.injector.get(kO,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function TQ(t){if(fs&&!fs.get(kO,!1))throw new b(400,!1);(function PO(){!function Cz(t){Gx=t}(()=>{throw new b(600,!1)})})(),fs=t;const e=t.get(UO);(function LO(t){t.get(BN,null)?.forEach(n=>n())})(t)}(function VO(t=[],e){return Kn.create({name:e,providers:[{provide:fv,useValue:"platform"},{provide:kw,useValue:new Set([()=>fs=null])},...t]})}(a,r))}return function bQ(t){const e=Ow();if(!e)throw new b(401,!1);return e}()}}function Ow(){return fs?.get(UO)??null}let UO=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function SQ(t="zone.js",e){return"noop"===t?new wQ:"zone.js"===t?new ke(e):t}(r?.ngZone,function BO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Kq(t,e,n){return new uw(t,e,n)}(n.moduleType,this.injector,function GO(t){return[{provide:ke,useFactory:t},{provide:Qc,multi:!0,useFactory:()=>{const e=V(xQ,{optional:!0});return()=>e.initialize()}},{provide:zO,useFactory:AQ},{provide:MO,useFactory:NO}]}(()=>i)),o=s.injector.get(fo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{pp(this._modules,s),a.unsubscribe()})}),function $O(t,e,n){try{const r=n();return rp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Sw);return a.runInitializers(),a.donePromise.then(()=>(function sP(t){rr(t,"Expected localeId to be defined"),"string"==typeof t&&(iP=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ai,ru)||ru),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=jO({},r);return function EQ(t,e,n){const r=new cw(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(au);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(kw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(H(Kn))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function jO(t,e){return Array.isArray(e)?e.reduce(jO,t):{...t,...e}}let au=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(zO),this.zoneIsStable=V(MO),this.componentTypes=[],this.components=[],this.isStable=V(CO).hasPendingTasks.pipe(Or(n=>n?Y(!1):this.zoneIsStable),function RH(t,e=Ji){return t=t??kH,kt((n,r)=>{let i,s=!0;n.subscribe(Pt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),gx()),this._injector=V(Ci)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof qN;if(!this._injector.get(Sw).done)throw!i&&function Ea(t){const e=Ce(t)||rn(t)||Mn(t);return null!==e&&e.standalone}(n),new b(405,!1);let o;o=i?n:this._injector.get(Hf).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function CQ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(iu),c=o.create(Kn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(RO,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),pp(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;pp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Pw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>pp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const zO=new B("",{providedIn:"root",factory:()=>V(fo).handleError.bind(void 0)});function AQ(){const t=V(ke),e=V(fo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let xQ=(()=>{class t{constructor(){this.zone=V(ke),this.applicationRef=V(au)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let Lw=(()=>{class t{}return t.__NG_ELEMENT_ID__=NQ,t})();function NQ(t){return function RQ(t,e,n){if(ro(t)&&!n){const r=Wn(t.index,e);return new rl(r,r)}return 47&t.type?new rl(e[yt],e):null}(Kt(),E(),16==(16&t))}const GQ=FO(null,"core",[]);let WQ=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(H(au))},t.\u0275mod=yr({type:t}),t.\u0275inj=ir({}),t})(),zw=null;function uu(){return zw}class iY{}const ar=new B("DocumentToken");let Gw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return V(oY)},providedIn:"platform"}),t})();const sY=new B("Location Initialized");let oY=(()=>{class t extends Gw{constructor(){super(),this._doc=V(ar),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return uu().getBaseHref(this._doc)}onPopState(n){const r=uu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=uu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Ww(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function aL(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function xi(t){return t&&"?"!==t[0]?"?"+t:t}let vo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return V(cL)},providedIn:"root"}),t})();const uL=new B("appBaseHref");let cL=(()=>{class t extends vo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(ar).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ww(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+xi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+xi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+xi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(H(Gw),H(uL,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aY=(()=>{class t extends vo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ww(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+xi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+xi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(H(Gw),H(uL,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),qw=(()=>{class t{constructor(n){this._subject=new En,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function lY(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(aL(lL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xi(r))}normalize(n){return t.stripTrailingSlash(function cY(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,lL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=xi,t.joinWithSlash=Ww,t.stripTrailingSlash=aL,t.\u0275fac=function(n){return new(n||t)(H(vo))},t.\u0275prov=W({token:t,factory:function(){return function uY(){return new qw(H(vo))}()},providedIn:"root"}),t})();function lL(t){return t.replace(/\/index.html$/,"")}class iI{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ap=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const r=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const r of this._defaultViews)r.enforceState(n)}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=_n({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),CL=(()=>{class t{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new iI(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(n){return new(n||t)(q(Er),q(Si),q(Ap,9))},t.\u0275dir=_n({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),TL=(()=>{class t{constructor(n,r,i){i._addDefault(new iI(n,r))}}return t.\u0275fac=function(n){return new(n||t)(q(Er),q(Si),q(Ap,9))},t.\u0275dir=_n({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})(),EX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yr({type:t}),t.\u0275inj=ir({}),t})();function AL(t){return"server"===t}let bX=(()=>{class t{}return t.\u0275prov=W({token:t,providedIn:"root",factory:()=>new SX(H(ar),window)}),t})();class SX{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function AX(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xL(this.window.history)||xL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xL(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ZX extends iY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cI extends ZX{static makeCurrent(){!function rY(t){zw||(zw=t)}(new cI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function JX(){return El=El||document.querySelector("base"),El?El.getAttribute("href"):null}();return null==n?null:function eZ(t){Np=Np||document.createElement("a"),Np.setAttribute("href",t);const e=Np.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){El=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function qY(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Np,El=null,nZ=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const lI=new B("EventManagerPlugins");let PL=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(H(lI),H(ke))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();class OL{constructor(e){this._doc=e}}const dI="ng-app-id";let LL=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=AL(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${dI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(dI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(dI,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(H(ar),H(Vf),H($N,8),H(as))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const hI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fI=/%COMP%/g,oZ=new B("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function VL(t,e){return e.map(n=>n.replace(fI,t))}let UL=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=AL(a),this.defaultRenderer=new pI(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hn.ShadowDom&&(r={...r,encapsulation:Hn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof $L?i.applyToHost(n):i instanceof gI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Hn.Emulated:s=new $L(u,c,r,this.appId,l,o,a,d);break;case Hn.ShadowDom:return new lZ(u,c,n,r,o,a,this.nonce,d);default:s=new gI(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(H(PL),H(LL),H(Vf),H(oZ),H(ar),H(as),H(ke),H($N))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();class pI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(hI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(BL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(BL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=hI[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=hI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(kn.DashCase|kn.Important)?e.style.setProperty(n,r,i&kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=uu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function BL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class lZ extends pI{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=VL(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gI extends pI{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=u?VL(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class $L extends gI{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function aZ(t){return"_ngcontent-%COMP%".replace(fI,t)}(c),this.hostAttr=function uZ(t){return"_nghost-%COMP%".replace(fI,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let dZ=(()=>{class t extends OL{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(H(ar))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const jL=["alt","control","meta","shift"],hZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fZ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pZ=(()=>{class t extends OL{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uu().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),jL.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=hZ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jL.forEach(o=>{o!==i&&(0,fZ[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(H(ar))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const zL=[{provide:as,useValue:"browser"},{provide:BN,useValue:function gZ(){cI.makeCurrent()},multi:!0},{provide:ar,useFactory:function yZ(){return function _9(t){iv=t}(document),document},deps:[]}],_Z=FO(GQ,"browser",zL),vZ=new B(""),GL=[{provide:fp,useClass:class tZ{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new b(5103,!1);return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?uu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:RO,useClass:Mw,deps:[ke,Nw,fp]},{provide:Mw,useClass:Mw,deps:[ke,Nw,fp]}],WL=[{provide:fv,useValue:"root"},{provide:fo,useFactory:function mZ(){return new fo},deps:[]},{provide:lI,useClass:dZ,multi:!0,deps:[ar,ke,as]},{provide:lI,useClass:pZ,multi:!0,deps:[ar]},UL,LL,PL,{provide:QN,useExisting:UL},{provide:class xX{},useClass:nZ,deps:[]},[]];let wZ=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Vf,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(H(vZ,12))},t.\u0275mod=yr({type:t}),t.\u0275inj=ir({providers:[...WL,...GL],imports:[EX,WQ]}),t})(),qL=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(H(ar))},t.\u0275prov=W({token:t,factory:function(n){let r=null;return r=n?new n:function EZ(){return new qL(H(ar))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:AZ}=Array,{getPrototypeOf:xZ,prototype:MZ,keys:NZ}=Object;const{isArray:PZ}=Array;function yI(...t){const e=Tc(t),n=function CH(t){return Re(n_(t))?t.pop():void 0}(t),{args:r,keys:i}=function RZ(t){if(1===t.length){const e=t[0];if(AZ(e))return{args:e,keys:null};if(function kZ(t){return t&&"object"==typeof t&&xZ(t)===MZ}(e)){const n=NZ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return qt([],e);const s=new ct(function VZ(t,e,n=Ji){return r=>{XL(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)XL(e,()=>{const c=qt(t[u],e);let l=!1;c.subscribe(Pt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function FZ(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Ji));return n?s.pipe(function LZ(t){return Le(e=>function OZ(t,e){return PZ(e)?t(...e):t(e)}(t,e))}(n)):s}function XL(t,e,n){t?mi(n,t,e):e()}const Rp=Ec(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function _I(...t){return function UZ(){return wa(1)}()(qt(t,Tc(t)))}function ZL(t){return new ct(e=>{gr(t()).subscribe(e)})}function Cl(t,e){const n=Re(t)?t:()=>t,r=i=>i.error(n());return new ct(e?i=>e.schedule(r,0,i):r)}function vI(){return kt((t,e)=>{let n=null;t._refCount++;const r=Pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class JL extends ct{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,J1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $n;const n=this.getSubject();e.add(this.source.subscribe(Pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$n.EMPTY)}return e}refCount(){return vI()(this)}}function cu(t){return t<=0?()=>Pr:kt((e,n)=>{let r=0;e.subscribe(Pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function gs(t,e){return kt((n,r)=>{let i=0;n.subscribe(Pt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function kp(t){return kt((e,n)=>{let r=!1;e.subscribe(Pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function eF(t=$Z){return kt((e,n)=>{let r=!1;e.subscribe(Pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $Z(){return new Rp}function wo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?gs((i,s)=>t(i,s,r)):Ji,cu(1),n?kp(e):eF(()=>new Rp))}function Tl(t,e){return Re(e)?Wt(t,e,1):Wt(t,1)}function cn(t,e,n){const r=Re(t)||e||n?{next:t,error:e,complete:n}:t;return r?kt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Pt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ji}function Io(t){return kt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Pt(n,void 0,void 0,o=>{s=gr(t(o,Io(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function wI(t){return t<=0?()=>Pr:kt((e,n)=>{let r=[];e.subscribe(Pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function II(t){return kt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ae="primary",Dl=Symbol("RouteTitle");class WZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function lu(t){return new WZ(t)}function qZ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Kr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!tF(t[i],e[i]))return!1;return!0}function tF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function nF(t){return t.length>0?t[t.length-1]:null}function ms(t){return function SZ(t){return!!t&&(t instanceof ct||Re(t.lift)&&Re(t.subscribe))}(t)?t:rp(t)?qt(Promise.resolve(t)):Y(t)}const QZ={exact:function sF(t,e,n){if(!Eo(t.segments,e.segments)||!Pp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!sF(t.children[r],e.children[r],n))return!1;return!0},subset:oF},rF={exact:function YZ(t,e){return Kr(t,e)},subset:function XZ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tF(t[n],e[n]))},ignored:()=>!0};function iF(t,e,n){return QZ[n.paths](t.root,e.root,n.matrixParams)&&rF[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function oF(t,e,n){return aF(t,e,e.segments,n)}function aF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Eo(i,n)||e.hasChildren()||!Pp(i,n,r))}if(t.segments.length===n.length){if(!Eo(t.segments,n)||!Pp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!oF(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Eo(t.segments,i)&&Pp(t.segments,i,r)&&t.children[ae])&&aF(t.children[ae],e,s,r)}}function Pp(t,e,n){return e.every((r,i)=>rF[n](t[i].parameters,r.parameters))}class du{constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return eJ.serialize(this)}}class Ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Op(this)}}class bl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=lu(this.parameters)),this._parameterMap}toString(){return lF(this)}}function Eo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Sl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return new EI},providedIn:"root"}),t})();class EI{parse(e){const n=new dJ(e);return new du(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Al(e.root,!0)}`,r=function rJ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Lp(n)}=${Lp(i)}`).join("&"):`${Lp(n)}=${Lp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function tJ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const eJ=new EI;function Op(t){return t.segments.map(e=>lF(e)).join("/")}function Al(t,e){if(!t.hasChildren())return Op(t);if(e){const n=t.children[ae]?Al(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ae&&r.push(`${i}:${Al(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function JZ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ae?[Al(t.children[ae],!1)]:[`${i}:${Al(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${Op(t)}/${n[0]}`:`${Op(t)}/(${n.join("//")})`}}function uF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lp(t){return uF(t).replace(/%3B/gi,";")}function CI(t){return uF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fp(t){return decodeURIComponent(t)}function cF(t){return Fp(t.replace(/\+/g,"%20"))}function lF(t){return`${CI(t.path)}${function nJ(t){return Object.keys(t).map(e=>`;${CI(e)}=${CI(t[e])}`).join("")}(t.parameters)}`}const iJ=/^[^\/()?;#]+/;function TI(t){const e=t.match(iJ);return e?e[0]:""}const sJ=/^[^\/()?;=#]+/,aJ=/^[^=?&#]+/,cJ=/^[^&#]+/;class dJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new Ae(e,n)),r}parseSegment(){const e=TI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new bl(Fp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function oJ(t){const e=t.match(sJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=TI(this.remaining);i&&(r=i,this.capture(r))}e[Fp(n)]=Fp(r)}parseQueryParam(e){const n=function uJ(t){const e=t.match(aJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function lJ(t){const e=t.match(cJ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=cF(n),s=cF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=TI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ae]:new Ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function dF(t){return t.segments.length>0?new Ae([],{[ae]:t}):t}function hF(t){const e={};for(const r of Object.keys(t.children)){const s=hF(t.children[r]);if(r===ae&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function hJ(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new Ae(t.segments.concat(e.segments),e.children)}return t}(new Ae(t.segments,e))}function Co(t){return t instanceof du}function fF(t){let e;const i=dF(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ae(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function pF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return DI(i,i,i,n,r);const s=function pJ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new mF(n,e,r)}(e);if(s.toRoot())return DI(i,i,new Ae([],{}),n,r);const o=function gJ(t,e,n){if(t.isAbsolute)return new Up(e,!0,0);if(!n)return new Up(e,!1,NaN);if(null===n.parent)return new Up(n,!0,0);const r=Vp(t.commands[0])?0:1;return function mJ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Up(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Ml(o.segmentGroup,o.index,s.commands):yF(o.segmentGroup,o.index,s.commands);return DI(i,o.segmentGroup,a,n,r)}function Vp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function xl(t){return"object"==typeof t&&null!=t&&t.outlets}function DI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:gF(t,e,n);const a=dF(hF(o));return new du(a,s,i)}function gF(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:gF(s,e,n)}),new Ae(t.segments,r)}class mF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vp(r[0]))throw new b(4003,!1);const i=r.find(xl);if(i&&i!==nF(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Up{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function yF(t,e,n){if(t||(t=new Ae([],{})),0===t.segments.length&&t.hasChildren())return Ml(t,e,n);const r=function _J(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(xl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!vF(u,c,o))return s;r+=2}else{if(!vF(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ae(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new Ae(t.segments.slice(r.pathIndex),t.children),Ml(s,0,i)}return r.match&&0===i.length?new Ae(t.segments,{}):r.match&&!t.hasChildren()?bI(t,e,n):r.match?Ml(t,0,i):bI(t,e,n)}function Ml(t,e,n){if(0===n.length)return new Ae(t.segments,{});{const r=function yJ(t){return xl(t[0])?t[0].outlets:{[ae]:t}}(n),i={};if(!r[ae]&&t.children[ae]&&1===t.numberOfChildren&&0===t.children[ae].segments.length){const s=Ml(t.children[ae],e,n);return new Ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=yF(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ae(t.segments,i)}}function bI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(xl(s)){const u=vJ(s.outlets);return new Ae(r,u)}if(0===i&&Vp(n[0])){r.push(new bl(t.segments[e].path,_F(n[0]))),i++;continue}const o=xl(s)?s.outlets[ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Vp(a)?(r.push(new bl(o,_F(a))),i+=2):(r.push(new bl(o,{})),i++)}return new Ae(r,{})}function vJ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=bI(new Ae([],{}),0,r))}),e}function _F(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vF(t,e,n){return t==n.path&&Kr(e,n.parameters)}const Nl="imperative";class Qr{constructor(e,n){this.id=e,this.url=n}}class SI extends Qr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends Qr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bp extends Qr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rl extends Qr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class AI extends Qr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wJ extends Qr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IJ extends Qr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EJ extends Qr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class CJ extends Qr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TJ extends Qr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DJ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class SJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AJ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class NJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kl,this.attachRef=null}}let kl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new NJ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class IF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=xI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=xI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=MI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return MI(e,this._root).map(n=>n.value)}}function xI(t,e){if(t===e.value)return e;for(const n of e.children){const r=xI(t,n);if(r)return r}return null}function MI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=MI(t,n);if(r.length)return r.unshift(e),r}return[]}class Ni{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function hu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class EF extends IF{constructor(e,n){super(e),this.snapshot=n,NI(this,e)}toString(){return this.snapshot.toString()}}function CF(t,e){const n=function RJ(t,e){const o=new $p([],{},{},"",{},ae,e,null,{});return new DF("",new Ni(o,[]))}(0,e),r=new nr([new bl("",{})]),i=new nr({}),s=new nr({}),o=new nr({}),a=new nr(""),u=new fu(r,i,o,a,s,ae,e,n.root);return u.snapshot=n.root,new EF(new Ni(u,[]),n)}class fu{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Le(c=>c[Dl]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Le(e=>lu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Le(e=>lu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function kJ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $p{get title(){return this.data?.[Dl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DF extends IF{constructor(e,n){super(n),this.url=e,NI(this,n)}toString(){return bF(this._root)}}function NI(t,e){e.value._routerState=t,e.children.forEach(n=>NI(t,n))}function bF(t){const e=t.children.length>0?` { ${t.children.map(bF).join(", ")} } `:"";return`${t.value}${e}`}function RI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Kr(e.params,n.params)||t.paramsSubject.next(n.params),function KZ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Kr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function kI(t,e){const n=Kr(t.params,e.params)&&function ZZ(t,e){return Eo(t,e)&&t.every((n,r)=>Kr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||kI(t.parent,e.parent))}let PI=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new En,this.deactivateEvents=new En,this.attachEvents=new En,this.detachEvents=new En,this.parentContexts=V(kl),this.location=V(Er),this.changeDetector=V(Lw),this.environmentInjector=V(Ci),this.inputBinder=V(jp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new PJ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=_n({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[so]}),t})();class PJ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fu?this.route:e===kl?this.childContexts:this.parent.get(e,n)}}const jp=new B("");let SF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=yI([r.queryParams,r.params,r.data]).pipe(Or(([s,o,a],u)=>(a={...s,...o,...a},0===u?Y(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function nY(t){const e=Ce(t);if(!e)return null;const n=new il(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();function Pl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function LJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pl(t,r,i);return Pl(t,r)})}(t,e,n);return new Ni(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Pl(t,a)),o}}const r=function FJ(t){return new fu(new nr(t.url),new nr(t.params),new nr(t.queryParams),new nr(t.fragment),new nr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Pl(t,s));return new Ni(r,i)}}const OI="ngNavigationCancelingError";function AF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function xF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[OI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function MF(t){return NF(t)&&Co(t.url)}function NF(t){return t&&t[OI]}let RF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=g_({type:t,selectors:[["ng-component"]],standalone:!0,features:[RP],decls:1,vars:0,template:function(n,r){1&n&&ye(0,"router-outlet")},dependencies:[PI],encapsulation:2}),t})();function LI(t){const e=t.children&&t.children.map(LI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=RF),n}function br(t){return t.outlet||ae}function Ol(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class zJ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),RI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=hu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=hu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new MJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new AJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(RI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),RI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ol(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class kF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hp{constructor(e,n){this.component=e,this.route=n}}function GJ(t,e,n){const r=t._root;return Ll(r,e?e._root:null,n,[r.value])}function pu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function BH(t){return null!==Kh(t)}(t)?e.get(t):t:r}function Ll(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=hu(e);return t.children.forEach(o=>{(function qJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function KJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Eo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(t.url,e.url)||!Kr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kI(t,e)||!Kr(t.queryParams,e.queryParams);default:return!kI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new kF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ll(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hp(a.outlet.component,o))}else o&&Fl(e,a,i),i.canActivateChecks.push(new kF(r)),Ll(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Fl(a,n.getContext(o),i)),i}function Fl(t,e,n){const r=hu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Fl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Hp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Vl(t){return"function"==typeof t}function PF(t){return t instanceof Rp||"EmptyError"===t?.name}const zp=Symbol("INITIAL_VALUE");function gu(){return Or(t=>yI(t.map(e=>e.pipe(cu(1),function BZ(...t){const e=Tc(t);return kt((n,r)=>{(e?_I(t,n,e):_I(t,n)).subscribe(r)})}(zp)))).pipe(Le(e=>{for(const n of e)if(!0!==n){if(n===zp)return zp;if(!1===n||n instanceof du)return n}return!0}),gs(e=>e!==zp),cu(1)))}function OF(t){return function j6(...t){return Y1(t)}(cn(e=>{if(Co(e))throw AF(0,e)}),Le(e=>!0===e))}class Gp{constructor(e){this.segmentGroup=e||null}}class LF{constructor(e){this.urlTree=e}}function mu(t){return Cl(new Gp(t))}function FF(t){return Cl(new LF(t))}class pee{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[ae])return Cl(new b(4e3,!1));i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new du(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const FI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gee(t,e,n,r,i){const s=VI(t,e,n);return s.matched?(r=function VJ(t,e){return t.providers&&!t._injector&&(t._injector=lw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function dee(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Y(i.map(o=>{const a=pu(o,t);return ms(function eee(t){return t&&Vl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(gu(),OF()):Y(!0)}(r,e,n).pipe(Le(o=>!0===o?s:{...FI}))):Y(s)}function VI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...FI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qZ)(n,t,e);if(!i)return{...FI};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VF(t,e,n,r){return n.length>0&&function _ee(t,e,n){return n.some(r=>Wp(t,e,r)&&br(r)!==ae)}(t,n,r)?{segmentGroup:new Ae(e,yee(r,new Ae(n,t.children))),slicedSegments:[]}:0===n.length&&function vee(t,e,n){return n.some(r=>Wp(t,e,r))}(t,n,r)?{segmentGroup:new Ae(t.segments,mee(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function mee(t,e,n,r,i){const s={};for(const o of r)if(Wp(t,n,o)&&!i[br(o)]){const a=new Ae([],{});s[br(o)]=a}return{...i,...s}}function yee(t,e){const n={};n[ae]=e;for(const r of t)if(""===r.path&&br(r)!==ae){const i=new Ae([],{});n[br(r)]=i}return n}function Wp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Cee{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new pee(this.urlSerializer,this.urlTree)}noMatchError(e){return new b(4002,!1)}recognize(){const e=VF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(Io(n=>{if(n instanceof LF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Gp?this.noMatchError(n):n}),Le(n=>{const r=new $p([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),i=new Ni(r,n),s=new DF("",i),o=function fJ(t,e,n=null,r=null){return pF(fF(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ae).pipe(Io(r=>{throw r instanceof Gp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=TF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return qt(i).pipe(Tl(s=>{const o=r.children[s],a=function jJ(t,e){const n=t.filter(r=>br(r)===e);return n.push(...t.filter(r=>br(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function HZ(t,e){return kt(function jZ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Pt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),kp(null),function zZ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?gs((i,s)=>t(i,s,r)):Ji,wI(1),n?kp(e):eF(()=>new Rp))}(),Wt(s=>{if(null===s)return mu(r);const o=UF(s);return function Tee(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Y(o)}))}processSegment(e,n,r,i,s,o){return qt(n).pipe(Tl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Io(u=>{if(u instanceof Gp)return Y(null);throw u}))),wo(a=>!!a),Io(a=>{if(PF(a))return function Iee(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Y([]):mu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function wee(t,e,n,r){return!!(br(t)===r||r!==ae&&Wp(e,n,t))&&("**"===t.path||VI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):mu(i):mu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?FF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Wt(o=>{const a=new Ae(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=VI(n,i,s);if(!a)return mu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?FF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Wt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?nF(i).parameters:{};a=Y({snapshot:new $p(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BF(r),br(r),r.component??r._loadedComponent??null,r,$F(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=gee(n,r,i,e).pipe(Le(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new $p(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BF(r),br(r),r.component??r._loadedComponent??null,r,$F(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Or(u=>null===u?mu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Or(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=VF(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Le(w=>null===w?null:[new Ni(d,w)]));if(0===c.length&&0===g.length)return Y([new Ni(d,[])]);const m=br(r)===s;return this.processSegment(l,c,p,g,m?ae:s,!0).pipe(Le(w=>[new Ni(d,w)]))}))))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):function lee(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(o=>{const a=pu(o,t);return ms(function YJ(t){return t&&Vl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(gu(),OF())}(e,n,r).pipe(Wt(i=>i?this.configLoader.loadChildren(e,n).pipe(cn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function fee(t){return Cl(xF(!1,3))}())):Y({routes:[],injector:e})}}function Dee(t){const e=t.value.routeConfig;return e&&""===e.path}function UF(t){const e=[],n=new Set;for(const r of t){if(!Dee(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=UF(r.children);e.push(new Ni(r.value,i))}return e.filter(r=>!n.has(r))}function BF(t){return t.data||{}}function $F(t){return t.resolve||{}}function jF(t){return"string"==typeof t.title||null===t.title}function UI(t){return Or(e=>{const n=t(e);return n?qt(n).pipe(Le(()=>e)):Y(e)})}const yu=new B("ROUTES");let BI=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(TO)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ms(n.loadComponent()).pipe(Le(HF),cn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),II(()=>{this.componentLoaders.delete(n)})),i=new JL(r,()=>new gi).pipe(vI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(yu,[],z.Self|z.Optional).flat()),{routes:c.map(LI),injector:u}}),II(()=>{this.childrenLoaders.delete(r)})),o=new JL(s,()=>new gi).pipe(vI());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return ms(n()).pipe(Le(HF),Wt(r=>r instanceof MP||Array.isArray(r)?Y(r):qt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function HF(t){return function Ree(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let qp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gi,this.configLoader=V(BI),this.environmentInjector=V(Ci),this.urlSerializer=V(Sl),this.rootContexts=V(kl),this.inputBindingEnabled=null!==V(jp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new bJ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new DJ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new nr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gs(r=>0!==r.id),Le(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Or(r=>{let i=!1,s=!1;return Y(r).pipe(cn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Or(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Rl(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Pr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return zF(o.source)&&(n.browserUrlTree=o.extractedUrl),Y(o).pipe(Or(l=>{const d=this.transitions?.getValue();return this.events.next(new SI(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Pr:Promise.resolve(l)}),function bee(t,e,n,r,i,s){return Wt(o=>function Eee(t,e,n,r,i,s,o="emptyOnly"){return new Cee(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Le(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),cn(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new wJ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new SI(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=CF(0,this.rootComponentType).snapshot;return Y(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Rl(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Pr}}),cn(o=>{const a=new IJ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Le(o=>r={...o,guards:GJ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function nee(t,e){return Wt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y({...n,guardsResult:!0}):function ree(t,e,n,r){return qt(t).pipe(Wt(i=>function cee(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=Ol(e)??i,c=pu(a,u);return ms(function JJ(t){return t&&Vl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(wo())})).pipe(gu()):Y(!0)}(i.component,i.route,n,e,r)),wo(i=>!0!==i,!0))}(o,r,i,t).pipe(Wt(a=>a&&function QJ(t){return"boolean"==typeof t}(a)?function iee(t,e,n,r){return qt(e).pipe(Tl(i=>_I(function oee(t,e){return null!==t&&e&&e(new SJ(t)),Y(!0)}(i.route.parent,r),function see(t,e){return null!==t&&e&&e(new xJ(t)),Y(!0)}(i.route,r),function uee(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function WJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>ZL(()=>Y(o.guards.map(u=>{const c=Ol(o.node)??n,l=pu(u,c);return ms(function ZJ(t){return t&&Vl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(wo())})).pipe(gu())));return Y(s).pipe(gu())}(t,i.path,n),function aee(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>ZL(()=>{const o=Ol(e)??n,a=pu(s,o);return ms(function XJ(t){return t&&Vl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(wo())}));return Y(i).pipe(gu())}(t,i.route,n))),wo(i=>!0!==i,!0))}(r,s,t,e):Y(a)),Le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),cn(o=>{if(r.guardsResult=o.guardsResult,Co(o.guardsResult))throw AF(0,o.guardsResult);const a=new EJ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),gs(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),UI(o=>{if(o.guards.canActivateChecks.length)return Y(o).pipe(cn(a=>{const u=new CJ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Or(a=>{let u=!1;return Y(a).pipe(function See(t,e){return Wt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return qt(i).pipe(Tl(o=>function Aee(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!jF(i)&&(s[Dl]=i.title),function xee(t,e,n,r){const i=function Mee(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Y({});const s={};return qt(i).pipe(Wt(o=>function Nee(t,e,n,r){const i=Ol(e)??r,s=pu(t,i);return ms(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(wo(),cn(a=>{s[o]=a}))),wI(1),function GZ(t){return Le(()=>t)}(s),Io(o=>PF(o)?Pr:Cl(o)))}(s,t,e,r).pipe(Le(o=>(t._resolvedData=o,t.data=TF(t,n).resolve,i&&jF(i)&&(t.data[Dl]=i.title),null)))}(o.route,r,t,e)),cn(()=>s++),wI(1),Wt(o=>s===i.length?Y(n):Pr))})}(n.paramsInheritanceStrategy,this.environmentInjector),cn({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),cn(a=>{const u=new TJ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),UI(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(cn(l=>{u.component=l}),Le(()=>{})));for(const l of u.children)c.push(...a(l));return c};return yI(a(o.targetSnapshot.root)).pipe(kp(),cu(1))}),UI(()=>this.afterPreactivation()),Le(o=>{const a=function OJ(t,e,n){const r=Pl(t,e._root,n?n._root:void 0);return new EF(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),cn(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>Le(i=>(new zJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),cu(1),cn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new To(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),II(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Io(o=>{if(s=!0,NF(o)){MF(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Bp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),MF(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||zF(r.source)};n.scheduleNavigation(u,Nl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new AI(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Pr}))}))}cancelNavigationTransition(n,r,i){const s=new Bp(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zF(t){return t!==Nl}let GF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Dl]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return V(kee)},providedIn:"root"}),t})(),kee=(()=>{class t extends GF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(H(qL))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return V(Lee)},providedIn:"root"}),t})();class Oee{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Lee=(()=>{class t extends Oee{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function MM(t){return yi(()=>{const e=t.prototype.constructor,n=e[_i]||F_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[_i]||F_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Kp=new B("",{providedIn:"root",factory:()=>({})});let Fee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return V(Vee)},providedIn:"root"}),t})(),Vee=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Yn=(()=>((Yn=Yn||{})[Yn.COMPLETE=0]="COMPLETE",Yn[Yn.FAILED=1]="FAILED",Yn[Yn.REDIRECTING=2]="REDIRECTING",Yn))();function WF(t,e){t.events.pipe(gs(n=>n instanceof To||n instanceof Bp||n instanceof AI||n instanceof Rl),Le(n=>n instanceof To||n instanceof Rl?Yn.COMPLETE:n instanceof Bp&&(0===n.code||1===n.code)?Yn.REDIRECTING:Yn.FAILED),gs(n=>n!==Yn.REDIRECTING),cu(1)).subscribe(()=>{e()})}function Uee(t){throw t}function Bee(t,e,n){return e.parse("/")}const $ee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(EO),this.isNgZoneEnabled=!1,this.options=V(Kp,{optional:!0})||{},this.pendingTasks=V(CO),this.errorHandler=this.options.errorHandler||Uee,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Bee,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(Fee),this.routeReuseStrategy=V(Pee),this.titleStrategy=V(GF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(yu,{optional:!0})?.flat()??[],this.navigationTransitions=V(qp),this.urlSerializer=V(Sl),this.location=V(qw),this.componentInputBindingEnabled=!!V(jp,{optional:!0}),this.isNgZoneEnabled=V(ke)instanceof ke&&ke.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new du,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=CF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Nl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(LI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=fF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return pF(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Co(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Nl,null,r)}navigate(n,r={skipLocationChange:!1}){return function Hee(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...$ee}:!1===r?{...jee}:r,Co(n))return iF(this.currentUrlTree,n,i);const s=this.parseUrl(n);return iF(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return WF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class qF{}let Wee=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gs(n=>n instanceof To),Tl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=lw(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return qt(i).pipe(wa())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Y(null);const s=i.pipe(Wt(o=>null===o?Y(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?qt([s,this.loader.loadComponent(r)]).pipe(wa()):s})}}return t.\u0275fac=function(n){return new(n||t)(H(lr),H(TO),H(Ci),H(qF),H(BI))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jI=new B("");let KF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof SI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof To?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Rl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function pR(){throw new Error("invalid")}()},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();function Ri(t,e){return{\u0275kind:t,\u0275providers:e}}function YF(){const t=V(Kn);return e=>{const n=t.get(au);if(e!==n.components[0])return;const r=t.get(lr),i=t.get(XF);1===t.get(HI)&&r.initialNavigation(),t.get(ZF,null,z.Optional)?.setUpPreloading(),t.get(jI,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const XF=new B("",{factory:()=>new gi}),HI=new B("",{providedIn:"root",factory:()=>1}),ZF=new B("");function Yee(t){return Ri(0,[{provide:ZF,useExisting:Wee},{provide:qF,useExisting:t}])}const JF=new B("ROUTER_FORROOT_GUARD"),Zee=[qw,{provide:Sl,useClass:EI},lr,kl,{provide:fu,useFactory:function QF(t){return t.routerState.root},deps:[lr]},BI,[]];function Jee(){return new OO("Router",lr)}let e2=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Zee,[],{provide:yu,multi:!0,useValue:n},{provide:JF,useFactory:rte,deps:[[lr,new At,new Ef]]},{provide:Kp,useValue:r||{}},r?.useHash?{provide:vo,useClass:aY}:{provide:vo,useClass:cL},{provide:jI,useFactory:()=>{const t=V(bX),e=V(ke),n=V(Kp),r=V(qp),i=V(Sl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new KF(i,r,t,e,n)}},r?.preloadingStrategy?Yee(r.preloadingStrategy).\u0275providers:[],{provide:OO,multi:!0,useFactory:Jee},r?.initialNavigation?ite(r):[],r?.bindToComponentInputs?Ri(8,[SF,{provide:jp,useExisting:SF}]).\u0275providers:[],[{provide:t2,useFactory:YF},{provide:Pw,multi:!0,useExisting:t2}]]}}static forChild(n){return{ngModule:t,providers:[{provide:yu,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(H(JF,8))},t.\u0275mod=yr({type:t}),t.\u0275inj=ir({}),t})();function rte(t){return"guarded"}function ite(t){return["disabled"===t.initialNavigation?Ri(3,[{provide:bw,multi:!0,useFactory:()=>{const e=V(lr);return()=>{e.setUpLocationChangeListener()}}},{provide:HI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ri(2,[{provide:HI,useValue:0},{provide:bw,multi:!0,deps:[Kn],useFactory:e=>{const n=e.get(sY,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(lr),s=e.get(XF);WF(i,()=>{r(!0)}),e.get(qp).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const t2=new B(""),ote=[];let ate=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yr({type:t}),t.\u0275inj=ir({imports:[e2.forRoot(ote),e2]}),t})();function ute(t,e){1&t&&(N(0,"pre"),Ie(1,"ng generate component xyz"),$())}function cte(t,e){1&t&&(N(0,"pre"),Ie(1,"ng add @angular/material"),$())}function lte(t,e){1&t&&(N(0,"pre"),Ie(1,"ng add @angular/pwa"),$())}function dte(t,e){1&t&&(N(0,"pre"),Ie(1,"ng add _____"),$())}function hte(t,e){1&t&&(N(0,"pre"),Ie(1,"ng test"),$())}function fte(t,e){1&t&&(N(0,"pre"),Ie(1,"ng build"),$())}let pte=(()=>{class t{constructor(){this.title="firebase-angular"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=g_({type:t,selectors:[["app-root"]],decls:152,vars:7,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["target","_blank","rel","noopener","href","https://angular.io/tutorial",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","https://angular.io/cli",1,"card"],["d","M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],["target","_blank","rel","noopener","href","https://material.angular.io",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 179.2 192.7",2,"margin-right","8px"],["fill","#ffa726","d","M89.4 0 0 32l13.5 118.4 75.9 42.3 76-42.3L179.2 32 89.4 0z"],["fill","#fb8c00","d","M89.4 0v192.7l76-42.3L179.2 32 89.4 0z"],["fill","#ffe0b2","d","m102.9 146.3-63.3-30.5 36.3-22.4 63.7 30.6-36.7 22.3z"],["fill","#fff3e0","d","M102.9 122.8 39.6 92.2l36.3-22.3 63.7 30.6-36.7 22.3z"],["fill","#fff","d","M102.9 99.3 39.6 68.7l36.3-22.4 63.7 30.6-36.7 22.4z"],["target","_blank","rel","noopener","href","https://blog.angular.io/",1,"card"],["d","M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"],["target","_blank","rel","noopener","href","https://angular.io/devtools/",1,"card"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"material-icons"],["fill","none","height","24","width","24"],["d","M14.73,13.31C15.52,12.24,16,10.93,16,9.5C16,5.91,13.09,3,9.5,3S3,5.91,3,9.5C3,13.09,5.91,16,9.5,16 c1.43,0,2.74-0.48,3.81-1.27L19.59,21L21,19.59L14.73,13.31z M9.5,14C7.01,14,5,11.99,5,9.5S7.01,5,9.5,5S14,7.01,14,9.5 S11.99,14,9.5,14z"],["points","10.29,8.44 9.5,6 8.71,8.44 6.25,8.44 8.26,10.03 7.49,12.5 9.5,10.97 11.51,12.5 10.74,10.03 12.75,8.44"],["type","hidden"],["selection",""],["tabindex","0",1,"card","card-small",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"terminal",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["title","Find a Local Meetup","href","https://www.meetup.com/find/?keywords=angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","24.607","height","23.447","viewBox","0 0 24.607 23.447"],["id","logo--mSwarm","d","M21.221,14.95A4.393,4.393,0,0,1,17.6,19.281a4.452,4.452,0,0,1-.8.069c-.09,0-.125.035-.154.117a2.939,2.939,0,0,1-2.506,2.091,2.868,2.868,0,0,1-2.248-.624.168.168,0,0,0-.245-.005,3.926,3.926,0,0,1-2.589.741,4.015,4.015,0,0,1-3.7-3.347,2.7,2.7,0,0,1-.043-.38c0-.106-.042-.146-.143-.166a3.524,3.524,0,0,1-1.516-.69A3.623,3.623,0,0,1,2.23,14.557a3.66,3.66,0,0,1,1.077-3.085.138.138,0,0,0,.026-.2,3.348,3.348,0,0,1-.451-1.821,3.46,3.46,0,0,1,2.749-3.28.44.44,0,0,0,.355-.281,5.072,5.072,0,0,1,3.863-3,5.028,5.028,0,0,1,3.555.666.31.31,0,0,0,.271.03A4.5,4.5,0,0,1,18.3,4.7a4.4,4.4,0,0,1,1.334,2.751,3.658,3.658,0,0,1,.022.706.131.131,0,0,0,.1.157,2.432,2.432,0,0,1,1.574,1.645,2.464,2.464,0,0,1-.7,2.616c-.065.064-.051.1-.014.166A4.321,4.321,0,0,1,21.221,14.95ZM13.4,14.607a2.09,2.09,0,0,0,1.409,1.982,4.7,4.7,0,0,0,1.275.221,1.807,1.807,0,0,0,.9-.151.542.542,0,0,0,.321-.545.558.558,0,0,0-.359-.534,1.2,1.2,0,0,0-.254-.078c-.262-.047-.526-.086-.787-.138a.674.674,0,0,1-.617-.75,3.394,3.394,0,0,1,.218-1.109c.217-.658.509-1.286.79-1.918a15.609,15.609,0,0,0,.745-1.86,1.95,1.95,0,0,0,.06-1.073,1.286,1.286,0,0,0-1.051-1.033,1.977,1.977,0,0,0-1.521.2.339.339,0,0,1-.446-.042c-.1-.092-.2-.189-.307-.284a1.214,1.214,0,0,0-1.643-.061,7.563,7.563,0,0,1-.614.512A.588.588,0,0,1,10.883,8c-.215-.115-.437-.215-.659-.316a2.153,2.153,0,0,0-.695-.248A2.091,2.091,0,0,0,7.541,8.562a9.915,9.915,0,0,0-.405.986c-.559,1.545-1.015,3.123-1.487,4.7a1.528,1.528,0,0,0,.634,1.777,1.755,1.755,0,0,0,1.5.211,1.35,1.35,0,0,0,.824-.858c.543-1.281,1.032-2.584,1.55-3.875.142-.355.28-.712.432-1.064a.548.548,0,0,1,.851-.24.622.622,0,0,1,.185.539,2.161,2.161,0,0,1-.181.621c-.337.852-.68,1.7-1.018,2.552a2.564,2.564,0,0,0-.173.528.624.624,0,0,0,.333.71,1.073,1.073,0,0,0,.814.034,1.22,1.22,0,0,0,.657-.655q.758-1.488,1.511-2.978.35-.687.709-1.37a1.073,1.073,0,0,1,.357-.434.43.43,0,0,1,.463-.016.373.373,0,0,1,.153.387.7.7,0,0,1-.057.236c-.065.157-.127.316-.2.469-.42.883-.846,1.763-1.262,2.648A2.463,2.463,0,0,0,13.4,14.607Zm5.888,6.508a1.09,1.09,0,0,0-2.179.006,1.09,1.09,0,0,0,2.179-.006ZM1.028,12.139a1.038,1.038,0,1,0,.01-2.075,1.038,1.038,0,0,0-.01,2.075ZM13.782.528a1.027,1.027,0,1,0-.011,2.055A1.027,1.027,0,0,0,13.782.528ZM22.21,6.95a.882.882,0,0,0-1.763.011A.882.882,0,0,0,22.21,6.95ZM4.153,4.439a.785.785,0,1,0,.787-.78A.766.766,0,0,0,4.153,4.439Zm8.221,18.22a.676.676,0,1,0-.677.666A.671.671,0,0,0,12.374,22.658ZM22.872,12.2a.674.674,0,0,0-.665.665.656.656,0,0,0,.655.643.634.634,0,0,0,.655-.644A.654.654,0,0,0,22.872,12.2ZM7.171-.123A.546.546,0,0,0,6.613.43a.553.553,0,1,0,1.106,0A.539.539,0,0,0,7.171-.123ZM24.119,9.234a.507.507,0,0,0-.493.488.494.494,0,0,0,.494.494.48.48,0,0,0,.487-.483A.491.491,0,0,0,24.119,9.234Zm-19.454,9.7a.5.5,0,0,0-.488-.488.491.491,0,0,0-.487.5.483.483,0,0,0,.491.479A.49.49,0,0,0,4.665,18.936Z","transform","translate(0 0.123)","fill","#f64060"],["title","Join the Conversation on Discord","href","https://discord.gg/angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 245 240"],["d","M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"],["d","M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"],["href","https://github.com/angular/angular","target","_blank","rel","noopener"],[1,"github-star-badge"],["d","M0 0h24v24H0z","fill","none"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z","fill","#1976d2"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(n,r){if(1&n){const i=function sk(){return E()}();N(0,"div",0),ye(1,"img",1),N(2,"span"),Ie(3,"Welcome"),$(),ye(4,"div",2),N(5,"a",3),je(),N(6,"svg",4),ye(7,"rect",5)(8,"path",6),$()(),He(),N(9,"a",7),je(),N(10,"svg",8),ye(11,"path",9)(12,"path",10),$()()(),He(),N(13,"div",11)(14,"div",12),je(),N(15,"svg",13)(16,"title"),Ie(17,"Rocket Ship"),$(),N(18,"g",14),ye(19,"circle",15),N(20,"g",16),ye(21,"path",17)(22,"path",18),$()()(),He(),N(23,"span"),Ie(24),$(),je(),N(25,"svg",19)(26,"title"),Ie(27,"Rocket Ship Smoke"),$(),ye(28,"path",20),$()(),He(),N(29,"h2"),Ie(30,"Resources"),$(),N(31,"p"),Ie(32,"Here are some links to help you get started:"),$(),N(33,"div",21)(34,"a",22),je(),N(35,"svg",23),ye(36,"path",24),$(),He(),N(37,"span"),Ie(38,"Learn Angular"),$(),je(),N(39,"svg",23),ye(40,"path",25),$()(),He(),N(41,"a",26),je(),N(42,"svg",23),ye(43,"path",27),$(),He(),N(44,"span"),Ie(45,"CLI Documentation"),$(),je(),N(46,"svg",23),ye(47,"path",25),$()(),He(),N(48,"a",28),je(),N(49,"svg",29),ye(50,"path",30)(51,"path",31)(52,"path",32)(53,"path",33)(54,"path",34),$(),He(),N(55,"span"),Ie(56,"Angular Material"),$(),je(),N(57,"svg",23),ye(58,"path",25),$()(),He(),N(59,"a",35),je(),N(60,"svg",23),ye(61,"path",36),$(),He(),N(62,"span"),Ie(63,"Angular Blog"),$(),je(),N(64,"svg",23),ye(65,"path",25),$()(),He(),N(66,"a",37),je(),N(67,"svg",38)(68,"g"),ye(69,"rect",39),$(),N(70,"g")(71,"g"),ye(72,"path",40)(73,"polygon",41),$()()(),He(),N(74,"span"),Ie(75,"Angular DevTools"),$(),je(),N(76,"svg",23),ye(77,"path",25),$()()(),He(),N(78,"h2"),Ie(79,"Next Steps"),$(),N(80,"p"),Ie(81,"What do you want to do next with your app?"),$(),ye(82,"input",42,43),N(84,"div",21)(85,"button",44),bi("click",function(){return oo(i),ao(ls(83).value="component")}),je(),N(86,"svg",23),ye(87,"path",45),$(),He(),N(88,"span"),Ie(89,"New Component"),$()(),N(90,"button",44),bi("click",function(){return oo(i),ao(ls(83).value="material")}),je(),N(91,"svg",23),ye(92,"path",45),$(),He(),N(93,"span"),Ie(94,"Angular Material"),$()(),N(95,"button",44),bi("click",function(){return oo(i),ao(ls(83).value="pwa")}),je(),N(96,"svg",23),ye(97,"path",45),$(),He(),N(98,"span"),Ie(99,"Add PWA Support"),$()(),N(100,"button",44),bi("click",function(){return oo(i),ao(ls(83).value="dependency")}),je(),N(101,"svg",23),ye(102,"path",45),$(),He(),N(103,"span"),Ie(104,"Add Dependency"),$()(),N(105,"button",44),bi("click",function(){return oo(i),ao(ls(83).value="test")}),je(),N(106,"svg",23),ye(107,"path",45),$(),He(),N(108,"span"),Ie(109,"Run and Watch Tests"),$()(),N(110,"button",44),bi("click",function(){return oo(i),ao(ls(83).value="build")}),je(),N(111,"svg",23),ye(112,"path",45),$(),He(),N(113,"span"),Ie(114,"Build for Production"),$()()(),N(115,"div",46),go(116,ute,2,0,"pre",47),go(117,cte,2,0,"pre",48),go(118,lte,2,0,"pre",48),go(119,dte,2,0,"pre",48),go(120,hte,2,0,"pre",48),go(121,fte,2,0,"pre",48),$(),N(122,"div",21)(123,"a",49),je(),N(124,"svg",50)(125,"title"),Ie(126,"Meetup Logo"),$(),ye(127,"path",51),$()(),He(),N(128,"a",52),je(),N(129,"svg",53)(130,"title"),Ie(131,"Discord Logo"),$(),ye(132,"path",54)(133,"path",55),$()()(),He(),N(134,"footer"),Ie(135," Love Angular?\xa0 "),N(136,"a",56),Ie(137," Give our repo a star. "),N(138,"div",57),je(),N(139,"svg",23),ye(140,"path",58)(141,"path",59),$(),Ie(142," Star "),$()(),He(),N(143,"a",56),je(),N(144,"svg",23),ye(145,"path",60)(146,"path",58),$()()(),N(147,"svg",61)(148,"title"),Ie(149,"Gray Clouds Background"),$(),ye(150,"path",62),$()(),He(),ye(151,"router-outlet")}if(2&n){const i=ls(83);cs(24),op("",r.title," app is running!"),cs(91),ds("ngSwitch",i.value),cs(2),ds("ngSwitchCase","material"),cs(1),ds("ngSwitchCase","pwa"),cs(1),ds("ngSwitchCase","dependency"),cs(1),ds("ngSwitchCase","test"),cs(1),ds("ngSwitchCase","build")}},dependencies:[Ap,CL,TL,PI],styles:['[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n\n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']}),t})();function n2(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){n2(s,r,i,o,a,"next",u)}function a(u){n2(s,r,i,o,a,"throw",u)}o(void 0)})}}const x=function(t,e){if(!t)throw _u(e)},_u=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},r2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Qp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new mte;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i2=function(t){const e=r2(t);return Qp.encodeByteArray(e,!0)},Yp=function(t){return i2(t).replace(/\./g,"")},Xp=function(t){try{return Qp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yte(t){return s2(void 0,t)}function s2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_te(n)||(t[n]=s2(t[n],e[n]));return t}function _te(t){return"__proto__"!==t}const Zp=()=>{try{return function vte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},o2=t=>{var e,n;return null===(n=null===(e=Zp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},a2=t=>{const e=o2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},u2=()=>{var t;return null===(t=Zp())||void 0===t?void 0:t.config},c2=t=>{var e;return null===(e=Zp())||void 0===e?void 0:e[`_${t}`]};class vu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function l2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yp(JSON.stringify({alg:"none",type:"JWT"})),Yp(JSON.stringify(o)),""].join(".")}function Lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function GI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function WI(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Do(){try{return"object"==typeof indexedDB}catch{return!1}}function Ul(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function qI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yr.prototype.create)}}class Yr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function bte(t,e){return t.replace(Ste,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new dr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Ste=/\{\$([^}]+)}/g;function Bl(t){return JSON.parse(t)}function Qt(t){return JSON.stringify(t)}const Jp=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Bl(Xp(s[0])||""),n=Bl(Xp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Pi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function KI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function tg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(h2(s)&&h2(o)){if(!tg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function h2(t){return null!==t&&"object"==typeof t}function $l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Mte{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):d<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class Rte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function kte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=QI),void 0===i.error&&(i.error=QI),void 0===i.complete&&(i.complete=QI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QI(){}const rg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},Ote=1e3,Lte=2,Fte=144e5,Vte=.5;function YI(t,e=Ote,n=Lte){const r=e*Math.pow(n,t),i=Math.round(Vte*r*(Math.random()-.5)*2);return Math.min(Fte,r+i)}function Xr(t){return t&&t._delegate?t._delegate:t}class Yt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bo="[DEFAULT]";class Bte{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function jte(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=bo){return this.instances.has(e)}getOptions(e=bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===bo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=bo){return this.component?this.component.multipleInstances?e:bo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Hte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bte(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const XI=[];var Z=(()=>((Z=Z||{})[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z))();const f2={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},zte=Z.INFO,Gte={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},Wte=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Gte[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class So{constructor(e){this.name=e,this._logLevel=zte,this._logHandler=Wte,this._userLogHandler=null,XI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?f2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}}const qte=(t,e)=>e.some(n=>t instanceof n);let p2,g2;const m2=new WeakMap,ZI=new WeakMap,y2=new WeakMap,JI=new WeakMap,eE=new WeakMap;let tE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ZI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||y2.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ene(t){return"function"==typeof t?function Jte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qte(){return g2||(g2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(nE(this),e),ys(m2.get(this))}:function(...e){return ys(t.apply(nE(this),e))}:function(e,...n){const r=t.call(nE(this),e,...n);return y2.set(r,e.sort?e.sort():[e]),ys(r)}}(t):(t instanceof IDBTransaction&&function Xte(t){if(ZI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ZI.set(t,e)}(t),qte(t,function Kte(){return p2||(p2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,tE):t)}function ys(t){if(t instanceof IDBRequest)return function Yte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&m2.set(n,t)}).catch(()=>{}),eE.set(e,t),e}(t);if(JI.has(t))return JI.get(t);const e=ene(t);return e!==t&&(JI.set(t,e),eE.set(e,t)),e}const nE=t=>eE.get(t),nne=["get","getKey","getAll","getAllKeys","count"],rne=["put","add","delete","clear"],rE=new Map;function _2(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(rE.get(e))return rE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!nne.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return rE.set(e,s),s}!function Zte(t){tE=t(tE)}(t=>({...t,get:(e,n,r)=>_2(e,n)||t.get(e,n,r),has:(e,n)=>!!_2(e,n)||t.has(e,n)}));class ine{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function sne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const iE="@firebase/app",Ao=new So("@firebase/app"),ig="[DEFAULT]",Nne={[iE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xo=new Map,sg=new Map;function Rne(t,e){try{t.container.addComponent(e)}catch(n){Ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ln(t){const e=t.name;if(sg.has(e))return Ao.debug(`There were multiple attempts to register component ${e}.`),!1;sg.set(e,t);for(const n of xo.values())Rne(n,t);return!0}function Mo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Oi=new Yr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}const _s="9.23.0";function w2(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ig,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(n||(n=u2()),!n)throw Oi.create("no-options");const s=xo.get(i);if(s){if(tg(n,s.options)&&tg(r,s.config))return s;throw Oi.create("duplicate-app",{appName:i})}const o=new Hte(i);for(const u of sg.values())o.addComponent(u);const a=new Pne(n,r,o);return xo.set(i,a),a}function og(t=ig){const e=xo.get(t);if(!e&&t===ig&&u2())return w2();if(!e)throw Oi.create("no-app",{appName:t});return e}function I2(){return Array.from(xo.values())}function ze(t,e,n){var r;let i=null!==(r=Nne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ao.warn(a.join(" "))}ln(new Yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const One="firebase-heartbeat-database",Lne=1,jl="firebase-heartbeat-store";let oE=null;function E2(){return oE||(oE=function tne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ys(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ys(o.result),u.oldVersion,u.newVersion,ys(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(One,Lne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(jl)}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),oE}function aE(){return(aE=y(function*(t){try{return yield(yield E2()).transaction(jl).objectStore(jl).get(T2(t))}catch(e){if(e instanceof dr)Ao.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e?.message});Ao.warn(n.message)}}})).apply(this,arguments)}function C2(t,e){return uE.apply(this,arguments)}function uE(){return(uE=y(function*(t,e){try{const r=(yield E2()).transaction(jl,"readwrite");yield r.objectStore(jl).put(e,T2(t)),yield r.done}catch(n){if(n instanceof dr)Ao.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n?.message});Ao.warn(r.message)}}})).apply(this,arguments)}function T2(t){return`${t.name}!${t.options.appId}`}class Bne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D2();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=D2(),{heartbeatsToSend:r,unsentEntries:i}=function $ne(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),b2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Yp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function D2(){return(new Date).toISOString().substring(0,10)}class jne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!Do()&&Ul().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Fne(t){return aE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return C2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return C2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function b2(t){return Yp(JSON.stringify({version:2,heartbeats:t})).length}!function Hne(t){ln(new Yt("platform-logger",e=>new ine(e),"PRIVATE")),ln(new Yt("heartbeat",e=>new Bne(e),"PRIVATE")),ze(iE,"0.9.13",t),ze(iE,"0.9.13","esm2017"),ze("fire-js","")}(""),ze("firebase","9.23.0","app");const Wne=(t,e)=>e.some(n=>t instanceof n);let S2,A2;const x2=new WeakMap,cE=new WeakMap,M2=new WeakMap,lE=new WeakMap,dE=new WeakMap;let hE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return cE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||M2.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Jne(t){return"function"==typeof t?function Zne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Kne(){return A2||(A2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(fE(this),e),vs(x2.get(this))}:function(...e){return vs(t.apply(fE(this),e))}:function(e,...n){const r=t.call(fE(this),e,...n);return M2.set(r,e.sort?e.sort():[e]),vs(r)}}(t):(t instanceof IDBTransaction&&function Yne(t){if(cE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cE.set(t,e)}(t),Wne(t,function qne(){return S2||(S2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,hE):t)}function vs(t){if(t instanceof IDBRequest)return function Qne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x2.set(n,t)}).catch(()=>{}),dE.set(e,t),e}(t);if(lE.has(t))return lE.get(t);const e=Jne(t);return e!==t&&(lE.set(t,e),dE.set(e,t)),e}const fE=t=>dE.get(t),tre=["get","getKey","getAll","getAllKeys","count"],nre=["put","add","delete","clear"],pE=new Map;function N2(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(pE.get(e))return pE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tre.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return pE.set(e,s),s}!function Xne(t){hE=t(hE)}(t=>({...t,get:(e,n,r)=>N2(e,n)||t.get(e,n,r),has:(e,n)=>!!N2(e,n)||t.has(e,n)}));const R2="@firebase/installations",gE="0.6.4",k2=1e4,P2=`w:${gE}`,O2="FIS_v2",rre="https://firebaseinstallations.googleapis.com/v1",ire=36e5,Li=new Yr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function L2(t){return t instanceof dr&&t.code.includes("request-failed")}function mE({projectId:t}){return`${rre}/projects/${t}/installations`}function F2(t){return{token:t.token,requestStatus:2,expiresIn:ure(t.expiresIn),creationTime:Date.now()}}function yE(t,e){return _E.apply(this,arguments)}function _E(){return(_E=y(function*(t,e){const r=(yield e.json()).error;return Li.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function V2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vE(t){return wE.apply(this,arguments)}function wE(){return(wE=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ure(t){return Number(t.replace("s","000"))}function IE(){return(IE=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=mE(t),i=V2(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:O2,appId:t.appId,sdkVersion:P2})},u=yield vE(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:F2(c.authToken)}}throw yield yE("Create Installation",u)})).apply(this,arguments)}function B2(t){return new Promise(e=>{setTimeout(e,t)})}const hre=/^[cdef][\w-]{21}$/,EE="";function fre(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function pre(t){return function dre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return hre.test(n)?n:EE}catch{return EE}}function Iu(t){return`${t.appName}!${t.appId}`}const Eu=new Map;function $2(t,e){const n=Iu(t);j2(n,e),function yre(t,e){const n=function H2(){return!No&&"BroadcastChannel"in self&&(No=new BroadcastChannel("[Firebase] FID Change"),No.onmessage=t=>{j2(t.data.key,t.data.fid)}),No}();n&&n.postMessage({key:t,fid:e}),function z2(){0===Eu.size&&No&&(No.close(),No=null)}()}(n,e)}function j2(t,e){const n=Eu.get(t);if(n)for(const r of n)r(e)}let No=null;const _re="firebase-installations-database",vre=1,Ro="firebase-installations-store";let CE=null;function TE(){return CE||(CE=function ere(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vs(o.result),u.oldVersion,u.newVersion,vs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(_re,vre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ro)}})),CE}function ag(t,e){return DE.apply(this,arguments)}function DE(){return(DE=y(function*(t,e){const n=Iu(t),i=(yield TE()).transaction(Ro,"readwrite"),s=i.objectStore(Ro),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&$2(t,e.fid),e})).apply(this,arguments)}function bE(t){return SE.apply(this,arguments)}function SE(){return(SE=y(function*(t){const e=Iu(t),r=(yield TE()).transaction(Ro,"readwrite");yield r.objectStore(Ro).delete(e),yield r.done})).apply(this,arguments)}function Hl(t,e){return AE.apply(this,arguments)}function AE(){return(AE=y(function*(t,e){const n=Iu(t),i=(yield TE()).transaction(Ro,"readwrite"),s=i.objectStore(Ro),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&$2(t,a.fid),a})).apply(this,arguments)}function xE(t){return ME.apply(this,arguments)}function ME(){return ME=y(function*(t){let e;const n=yield Hl(t.appConfig,r=>{const i=function wre(t){return W2(t||{fid:fre(),registrationStatus:0})}(r),s=function Ire(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Li.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Ere(t,e){return NE.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Cre(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===EE?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),ME.apply(this,arguments)}function NE(){return NE=y(function*(t,e){try{const n=yield function lre(t,e){return IE.apply(this,arguments)}(t,e);return ag(t.appConfig,n)}catch(n){throw L2(n)&&409===n.customData.serverCode?yield bE(t.appConfig):yield ag(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),NE.apply(this,arguments)}function Cre(t){return RE.apply(this,arguments)}function RE(){return(RE=y(function*(t){let e=yield G2(t.appConfig);for(;1===e.registrationStatus;)yield B2(100),e=yield G2(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield xE(t);return r||n}return e})).apply(this,arguments)}function G2(t){return Hl(t,e=>{if(!e)throw Li.create("installation-not-found");return W2(e)})}function W2(t){return function Tre(t){return 1===t.registrationStatus&&t.registrationTime+k2<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function kE(){return(kE=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function bre(t,{fid:e}){return`${mE(t)}/${e}/authTokens:generate`}(t,n),i=function U2(t,{refreshToken:e}){const n=V2(t);return n.append("Authorization",function cre(t){return`${O2} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:P2,appId:t.appId}})},u=yield vE(()=>fetch(r,a));if(u.ok)return F2(yield u.json());throw yield yE("Generate Auth Token",u)})).apply(this,arguments)}function PE(t){return OE.apply(this,arguments)}function OE(){return OE=y(function*(t,e=!1){let n;const r=yield Hl(t.appConfig,s=>{if(!K2(s))throw Li.create("not-registered");const o=s.authToken;if(!e&&function xre(t){return 2===t.requestStatus&&!function Mre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ire}(t)}(o))return s;if(1===o.requestStatus)return n=function Sre(t,e){return LE.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Li.create("app-offline");const a=function Nre(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Are(t,e){return FE.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),OE.apply(this,arguments)}function LE(){return(LE=y(function*(t,e){let n=yield q2(t.appConfig);for(;1===n.authToken.requestStatus;)yield B2(100),n=yield q2(t.appConfig);const r=n.authToken;return 0===r.requestStatus?PE(t,e):r})).apply(this,arguments)}function q2(t){return Hl(t,e=>{if(!K2(e))throw Li.create("not-registered");return function Rre(t){return 1===t.requestStatus&&t.requestTime+k2<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function FE(){return FE=y(function*(t,e){try{const n=yield function Dre(t,e){return kE.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield ag(t.appConfig,r),n}catch(n){if(!L2(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ag(t.appConfig,r)}else yield bE(t.appConfig);throw n}}),FE.apply(this,arguments)}function K2(t){return void 0!==t&&2===t.registrationStatus}function VE(){return(VE=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield xE(e);return r?r.catch(console.error):PE(e).catch(console.error),n.fid})).apply(this,arguments)}function UE(){return UE=y(function*(t,e=!1){const n=t;return yield function Ore(t){return BE.apply(this,arguments)}(n),(yield PE(n,e)).token}),UE.apply(this,arguments)}function BE(){return(BE=y(function*(t){const{registrationPromise:e}=yield xE(t);e&&(yield e)})).apply(this,arguments)}function HE(t){return Li.create("missing-app-config-values",{valueName:t})}const Q2="installations",Bre=t=>{const e=t.getProvider("app").getImmediate(),n=function Vre(t){if(!t||!t.options)throw HE("App Configuration");if(!t.name)throw HE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw HE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Mo(e,"heartbeat"),_delete:()=>Promise.resolve()}},$re=t=>{const n=Mo(t.getProvider("app").getImmediate(),Q2).getImmediate();return{getId:()=>function kre(t){return VE.apply(this,arguments)}(n),getToken:i=>function Pre(t){return UE.apply(this,arguments)}(n,i)}};(function jre(){ln(new Yt(Q2,Bre,"PUBLIC")),ln(new Yt("installations-internal",$re,"PRIVATE"))})(),ze(R2,gE),ze(R2,gE,"esm2017");const zE="@firebase/remote-config",Ln=new Yr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jre{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function eie(t=navigator){return t.languages&&t.languages[0]||t.language}class tie{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:eie()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",_(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),Ln.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw Ln.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=w.entries,m=w.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Ln.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class iie{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function nie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function rie(t){if(!(t instanceof dr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+YI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class aie{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cg(t,e){const n=t.target.error||void 0;return Ln.create(e,{originalErrorMessage:n&&n?.message})}const ko="app_namespace_store";class die{constructor(e,n,r,i=function lie(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(cg(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ko,{keyPath:"compositeKey"})}}catch(n){e(Ln.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ko],"readonly").objectStore(ko),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(cg(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Ln.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ko],"readwrite").objectStore(ko),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(cg(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Ln.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ko],"readwrite").objectStore(ko),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(cg(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Ln.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class hie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function pie(){return QE.apply(this,arguments)}function QE(){return(QE=y(function*(){if(!Do())return!1;try{return yield Ul()}catch{return!1}})).apply(this,arguments)}!function fie(){ln(new Yt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ln.create("registration-window");if(!Do())throw Ln.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Ln.create("registration-project-id");if(!o)throw Ln.create("registration-api-key");if(!a)throw Ln.create("registration-app-id");const u=new die(a,r.name,n=n||"firebase"),c=new hie(u),l=new So(zE);l.logLevel=Z.ERROR;const d=new tie(i,_s,n,s,o,a),h=new iie(d,u),f=new Jre(h,u,c,l),p=new aie(r,f,c,u,l);return function Yre(t){const e=Xr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ze(zE,"0.4.4"),ze(zE,"0.4.4","esm2017")}();const gie=(t,e)=>e.some(n=>t instanceof n);let J2,eV;const tV=new WeakMap,YE=new WeakMap,nV=new WeakMap,XE=new WeakMap,ZE=new WeakMap;let JE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return YE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||nV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Eie(t){return"function"==typeof t?function Iie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yie(){return eV||(eV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(e0(this),e),Fi(tV.get(this))}:function(...e){return Fi(t.apply(e0(this),e))}:function(e,...n){const r=t.call(e0(this),e,...n);return nV.set(r,e.sort?e.sort():[e]),Fi(r)}}(t):(t instanceof IDBTransaction&&function vie(t){if(YE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});YE.set(t,e)}(t),gie(t,function mie(){return J2||(J2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,JE):t)}function Fi(t){if(t instanceof IDBRequest)return function _ie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tV.set(n,t)}).catch(()=>{}),ZE.set(e,t),e}(t);if(XE.has(t))return XE.get(t);const e=Eie(t);return e!==t&&(XE.set(t,e),ZE.set(e,t)),e}const e0=t=>ZE.get(t);function rV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Fi(o.result),u.oldVersion,u.newVersion,Fi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function t0(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Fi(n).then(()=>{})}const Cie=["get","getKey","getAll","getAllKeys","count"],Tie=["put","add","delete","clear"],n0=new Map;function iV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(n0.get(e))return n0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Cie.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return n0.set(e,s),s}!function wie(t){JE=t(JE)}(t=>({...t,get:(e,n,r)=>iV(e,n)||t.get(e,n,r),has:(e,n)=>!!iV(e,n)||t.has(e,n)}));const Die="/firebase-messaging-sw.js",bie="/firebase-cloud-messaging-push-scope",sV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Sie="https://fcmregistrations.googleapis.com/v1",oV="google.c.a.c_id",Aie="google.c.a.c_l",xie="google.c.a.ts";var ws=(()=>((ws=ws||{}).PUSH_RECEIVED="push-received",ws.NOTIFICATION_CLICKED="notification-clicked",ws))();function Vi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nie(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const r0="fcm_token_details_db",Rie=5,aV="fcm_token_object_Store";function s0(){return s0=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(r0))return null;let e=null;return(yield rV(r0,Rie,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(aV))return;const c=a.objectStore(aV),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Vi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Vi(d.auth),p256dh:Vi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Vi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Vi(d.auth),p256dh:Vi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Vi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield t0(r0),yield t0("fcm_vapid_details_db"),yield t0("undefined"),function Pie(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),s0.apply(this,arguments)}const Oie="firebase-messaging-database",Lie=1,Po="firebase-messaging-store";let o0=null;function a0(){return o0||(o0=rV(Oie,Lie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Po)}})),o0}function uV(t){return u0.apply(this,arguments)}function u0(){return u0=y(function*(t){const e=h0(t),r=yield(yield a0()).transaction(Po).objectStore(Po).get(e);if(r)return r;{const i=yield function kie(t){return s0.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield c0(t,i),i}}),u0.apply(this,arguments)}function c0(t,e){return l0.apply(this,arguments)}function l0(){return(l0=y(function*(t,e){const n=h0(t),i=(yield a0()).transaction(Po,"readwrite");return yield i.objectStore(Po).put(e,n),yield i.done,e})).apply(this,arguments)}function d0(){return(d0=y(function*(t){const e=h0(t),r=(yield a0()).transaction(Po,"readwrite");yield r.objectStore(Po).delete(e),yield r.done})).apply(this,arguments)}function h0({appConfig:t}){return t.appId}const Xt=new Yr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Uie(t,e){return f0.apply(this,arguments)}function f0(){return(f0=y(function*(t,e){const n=yield y0(t),r=lV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(m0(t.appConfig),i)).json()}catch(o){throw Xt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Xt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Xt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function p0(){return(p0=y(function*(t,e){const n=yield y0(t),r=lV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${m0(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Xt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Xt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Xt.create("token-update-no-token");return s.token})).apply(this,arguments)}function cV(t,e){return g0.apply(this,arguments)}function g0(){return(g0=y(function*(t,e){const r={method:"DELETE",headers:yield y0(t)};try{const s=yield(yield fetch(`${m0(t.appConfig)}/${e}`,r)).json();if(s.error)throw Xt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Xt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function m0({projectId:t}){return`${Sie}/projects/${t}/registrations`}function y0(t){return _0.apply(this,arguments)}function _0(){return(_0=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function lV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==sV&&(i.web.applicationPubKey=r),i}const $ie=6048e5;function v0(){return v0=y(function*(t){const e=yield function zie(t,e){return C0.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Vi(e.getKey("auth")),p256dh:Vi(e.getKey("p256dh"))},r=yield uV(t.firebaseDependencies);if(r){if(function Gie(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+$ie?function Hie(t,e){return I0.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield cV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return hV(t.firebaseDependencies,n)}return hV(t.firebaseDependencies,n)}),v0.apply(this,arguments)}function w0(){return w0=y(function*(t){const e=yield uV(t.firebaseDependencies);e&&(yield cV(t.firebaseDependencies,e.token),yield function Fie(t){return d0.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),w0.apply(this,arguments)}function I0(){return I0=y(function*(t,e){try{const n=yield function Bie(t,e){return p0.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield c0(t.firebaseDependencies,r),n}catch(n){throw yield function dV(t){return w0.apply(this,arguments)}(t),n}}),I0.apply(this,arguments)}function hV(t,e){return E0.apply(this,arguments)}function E0(){return(E0=y(function*(t,e){const r={token:yield Uie(t,e),createTime:Date.now(),subscriptionOptions:e};return yield c0(t,r),r.token})).apply(this,arguments)}function C0(){return(C0=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nie(e)})})).apply(this,arguments)}function fV(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Wie(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function qie(t,e){e.data&&(t.data=e.data)}(e,t),function Kie(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function pV(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function T0(t){return Xt.create("missing-app-config-values",{valueName:t})}pV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xie{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Yie(t){if(!t||!t.options)throw T0("App Configuration Object");if(!t.name)throw T0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw T0(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function D0(){return(D0=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Die,{scope:bie}),t.swRegistration.update().catch(()=>{})}catch(e){throw Xt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function b0(){return(b0=y(function*(t,e){if(!e&&!t.swRegistration&&(yield function gV(t){return D0.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Xt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function S0(){return(S0=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=sV)})).apply(this,arguments)}function A0(){return A0=y(function*(t,e){if(!navigator)throw Xt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xt.create("permission-blocked");return yield function Jie(t,e){return S0.apply(this,arguments)}(t,e?.vapidKey),yield function Zie(t,e){return b0.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function jie(t){return v0.apply(this,arguments)}(t)}),A0.apply(this,arguments)}function x0(){return(x0=y(function*(t,e,n){const r=function tse(t){switch(t){case ws.NOTIFICATION_CLICKED:return"notification_open";case ws.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[oV],message_name:n[Aie],message_time:n[xie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function M0(){return M0=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ws.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(fV(n)):t.onMessageHandler.next(fV(n)));const r=n.data;(function Qie(t){return"object"==typeof t&&!!t&&oV in t})(r)&&"1"===r["google.c.a.e"]&&(yield function ese(t,e,n){return x0.apply(this,arguments)}(t,n.messageType,r))}),M0.apply(this,arguments)}const yV="@firebase/messaging",rse=t=>{const e=new Xie(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function nse(t,e){return M0.apply(this,arguments)}(e,n)),e},ise=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function mV(t,e){return A0.apply(this,arguments)}(e,r)}};function vV(){return N0.apply(this,arguments)}function N0(){return(N0=y(function*(){try{yield Ul()}catch{return!1}return typeof window<"u"&&Do()&&qI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sse(){ln(new Yt("messaging",rse,"PUBLIC")),ln(new Yt("messaging-internal",ise,"PRIVATE")),ze(yV,"0.12.4"),ze(yV,"0.12.4","esm2017")}();const lg="analytics",use="firebase_id",cse="origin",lse=6e4,dse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",P0="https://www.googletagmanager.com/gtag/js",Ft=new So("@firebase/analytics"),Tn=new Yr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fse(t){if(!t.startsWith(P0)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return Ft.warn(e.message),""}return t}function wV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function O0(){return(O0=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield wV(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ft.error(a)}t("config",i,s)})).apply(this,arguments)}function L0(){return(L0=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield wV(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ft.error(s)}})).apply(this,arguments)}const Ese=30,IV=new class Tse{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Dse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function F0(){return(F0=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Dse(r)},s=dse.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function V0(){return(V0=y(function*(t,e=IV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Tn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Tn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Mse;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:lse),EV({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function EV(t,e,n){return U0.apply(this,arguments)}function U0(){return U0=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=IV){var s;const{appId:o,measurementId:a}=t;try{yield function Ase(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function bse(t){return F0.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function xse(t){if(!(t instanceof dr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?YI(n,i.intervalMillis,Ese):YI(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ft.debug(`Calling attemptFetch again in ${l} millis`),EV(t,d,r,i)}}),U0.apply(this,arguments)}class Mse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let B0,q0;function $0(){return($0=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function K0(){return(K0=y(function*(){if(!Do())return Ft.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ul()}catch(t){return Ft.warn(Tn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Q0(){return Q0=y(function*(t,e,n,r,i,s,o){var a;const u=function Sse(t){return V0.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ft.error(f)),e.push(u);const c=function Fse(){return K0.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Ise(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(P0)&&n.src.includes(t))return n;return null})(s)||function gse(t,e){const n=function pse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:fse}),r=document.createElement("script"),i=`${P0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),q0&&(i("consent","default",q0),function CV(t){q0=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[cse]="firebase",h.update=!0,null!=d&&(h[use]=d),i("config",l.measurementId,h),B0&&(i("set",B0),function TV(t){B0=t}(void 0)),l.measurementId}),Q0.apply(this,arguments)}class Use{constructor(e){this.app=e}_delete(){return delete Zr[this.app.options.appId],Promise.resolve()}}let Zr={},DV=[];const bV={};let AV,Jr,dg="dataLayer",Y0=!1;function $se(t,e,n){!function Bse(){const t=[];if(WI()&&t.push("This is a browser extension environment."),qI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});Ft.warn(n.message)}}();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Tn.create("no-api-key");Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zr[r])throw Tn.create("already-exists",{id:r});if(!Y0){!function mse(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(dg);const{wrappedGtag:s,gtagCore:o}=function wse(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function vse(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function _se(t,e,n,r,i){return L0.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function yse(t,e,n,r,i,s){return O0.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Ft.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Zr,DV,bV,dg,"gtag");Jr=s,AV=o,Y0=!0}return Zr[r]=function Vse(t,e,n,r,i,s,o){return Q0.apply(this,arguments)}(t,DV,bV,e,AV,dg,n),new Use(t)}function Hse(){return X0.apply(this,arguments)}function X0(){return(X0=y(function*(){if(WI()||!qI()||!Do())return!1;try{return yield Ul()}catch{return!1}})).apply(this,arguments)}const xV="@firebase/analytics";!function Gse(){ln(new Yt(lg,(e,{options:n})=>$se(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),ln(new Yt("analytics-internal",function t(e){try{const n=e.getProvider(lg).getImmediate();return{logEvent:(r,i,s)=>function zse(t,e,n,r){t=Xr(t),function Nse(t,e,n,r,i){return $0.apply(this,arguments)}(Jr,Zr[t.app.options.appId],e,n,r).catch(i=>Ft.error(i))}(n,r,i,s)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ze(xV,"0.10.0"),ze(xV,"0.10.0","esm2017")}();class Wse extends $n{constructor(e,n){super()}schedule(e,n=0){return this}}const hg={setInterval(t,e,...n){const{delegate:r}=hg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=hg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class NV extends Wse{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return hg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&hg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,va(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const RV={now:()=>(RV.delegate||Date).now(),delegate:void 0};class zl{constructor(e,n=zl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}zl.now=RV.now;class kV extends zl{constructor(e,n=zl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Qse=new class Kse extends kV{}(class qse extends NV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Yse=new kV(NV),Gl=new Jc("7.6.1"),J0="__angularfire_symbol__analyticsIsSupportedValue",eC="__angularfire_symbol__analyticsIsSupported",tC="__angularfire_symbol__remoteConfigIsSupportedValue",nC="__angularfire_symbol__remoteConfigIsSupported",rC="__angularfire_symbol__messagingIsSupportedValue",iC="__angularfire_symbol__messagingIsSupported";function fg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[eC]||(globalThis[eC]=Hse().then(t=>globalThis[J0]=t).catch(()=>globalThis[J0]=!1)),globalThis[iC]||(globalThis[iC]=vV().then(t=>globalThis[rC]=t).catch(()=>globalThis[rC]=!1)),globalThis[nC]||(globalThis[nC]=pie().then(t=>globalThis[tC]=t).catch(()=>globalThis[tC]=!1));const pg=(t,e)=>{const n=e?[e]:I2(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Cu(){}class PV{constructor(e,n=Qse){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Xse{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cu,{},Cu,Cu)),n.pipe(cn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gg=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new PV(Zone.current)),this.insideAngular=n.run(()=>new PV(Zone.current,Yse)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(H(ke))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Oo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Lo(t){return Oo().ngZone.run(()=>t())}function Jse(t){return Oo(),function eoe(t){return function(n){return(n=n.lift(new Xse(t.ngZone))).pipe(zh(t.outsideAngular),Hh(t.insideAngular))}}(Oo())(t)}const toe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Lo(()=>t.apply(void 0,r))},mg=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cu,{},Cu,Cu)))),r[s]=toe(r[s],n));const i=function Zse(t){return Oo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ct){const s=Oo();return i.pipe(zh(s.outsideAngular),Hh(s.insideAngular))}return Lo(()=>i)}return i instanceof ct?i.pipe(Jse):i instanceof Promise?Lo(()=>new Promise((s,o)=>i.then(a=>Lo(()=>s(a)),a=>Lo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Lo(()=>i)};class Fo{constructor(e){return e}}class yg{constructor(){return I2()}}const oC=new B("angularfire2._apps"),roe={provide:Fo,useFactory:function noe(t){return t&&1===t.length?t[0]:new Fo(og())},deps:[[new At,oC]]},ioe={provide:yg,deps:[[new At,oC]]};function soe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fo(r)}}let ooe=(()=>{class t{constructor(n){ze("angularfire",Gl.full,"core"),ze("angularfire",Gl.full,"app"),ze("angular",YN.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(H(as))},t.\u0275mod=yr({type:t}),t.\u0275inj=ir({providers:[roe,ioe]}),t})();function aoe(t,...e){return{ngModule:ooe,providers:[{provide:oC,useFactory:soe(t),multi:!0,deps:[ke,Kn,gg,...e]}]}}const uoe=mg(w2,!0),coe_firebase={projectId:"ang-app-7a7a8",appId:"1:552224815485:web:cefd0decd00c5c58bd3414",databaseURL:"https://ang-app-7a7a8-default-rtdb.firebaseio.com",storageBucket:"ang-app-7a7a8.appspot.com",apiKey:"AIzaSyC-kfT_oGXntWObR0vT0NWGLZDH6jkAQzg",authDomain:"ang-app-7a7a8.firebaseapp.com",messagingSenderId:"552224815485",measurementId:"G-2MXK1STHST"},aC=new Map,OV={activated:!1,tokenObservers:[]},loe={initialized:!1,enabled:!1};function it(t){return aC.get(t)||Object.assign({},OV)}function _g(){return loe}const uC="https://content-firebaseappcheck.googleapis.com/v1",poe="exchangeDebugToken",LV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class moe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new vu,yield function yoe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new vu,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Zt=new Yr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cC(t){if(!it(t).activated)throw Zt.create("use-before-activation",{appName:t.name})}function Ig(t,e){return dC.apply(this,arguments)}function dC(){return(dC=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Zt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Zt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Zt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function FV(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${uC}/projects/${n}/apps/${r}:${poe}?key=${i}`,body:{debug_token:e}}}const Ioe="firebase-app-check-database",Eoe=1,Wl="firebase-app-check-store";let Eg=null;function hC(){return(hC=y(function*(t,e){const r=(yield function UV(){return Eg||(Eg=new Promise((t,e)=>{try{const n=indexedDB.open(Ioe,Eoe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Zt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Wl,{keyPath:"compositeKey"})}}catch(n){e(Zt.create("storage-open",{originalErrorMessage:n?.message}))}}),Eg)}()).transaction(Wl,"readwrite"),s=r.objectStore(Wl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Zt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const ql=new So("@firebase/app-check");function gC(t,e){return Do()?function Toe(t,e){return function BV(t,e){return hC.apply(this,arguments)}(function jV(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ql.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function yC(){return _g().enabled}function _C(){return vC.apply(this,arguments)}function vC(){return(vC=y(function*(){const t=_g();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Moe={error:"UNKNOWN_ERROR"};function Noe(t){return Qp.encodeString(JSON.stringify(t),!1)}function Cg(t){return wC.apply(this,arguments)}function wC(){return(wC=y(function*(t,e=!1){const n=t.app;cC(n);const r=it(n);let s,i=r.token;if(i&&!Tu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Tu(u)?i=u:yield gC(n,void 0))}if(!e&&i&&Tu(i))return{token:i.token};let a,o=!1;if(yC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ig(FV(n,yield _C()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield gC(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield it(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?ql.warn(u.message):ql.error(u),s=u}return i?s?a=Tu(i)?{token:i.token,internalError:s}:WV(s):(a={token:i.token},r.token=i,yield gC(n,i)):a=WV(s),o&&function GV(t,e){const n=it(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function HV(t){return IC.apply(this,arguments)}function IC(){return(IC=y(function*(t){const e=t.app;cC(e);const{provider:n}=it(e);if(yC()){const r=yield _C(),{token:i}=yield Ig(FV(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function CC(t,e){const n=it(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function zV(t){const{app:e}=t,n=it(e);let r=n.tokenRefresher;r||(r=function Roe(t){const{app:e}=t;return new moe(y(function*(){let r;if(r=it(e).token?yield Cg(t,!0):yield Cg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=it(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},LV.RETRIAL_MIN_WAIT,LV.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Tu(t){return t.expireTimeMillis-Date.now()>0}function WV(t){return{token:Noe(Moe),error:t}}class koe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=it(this.app);for(const n of e)CC(this.app,n.next);return Promise.resolve()}}const eU="app-check-internal";!function qoe(){ln(new Yt("app-check",t=>function Poe(t,e){return new koe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(eU).initialize()})),ln(new Yt(eU,t=>function Ooe(t){return{getToken:e=>Cg(t,e),getLimitedUseToken:()=>HV(t),addTokenListener:e=>function EC(t,e,n,r){const{app:i}=t,s=it(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Tu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),zV(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>zV(t))}(t,"INTERNAL",e),removeTokenListener:e=>CC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ze("@firebase/app-check","0.8.0")}();class Dg{constructor(){return pg("app-check")}}typeof window<"u"&&window;const Zoe=function nU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rU=new Yr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bg=new So("@firebase/auth");function Sg(t,...e){bg.logLevel<=Z.ERROR&&bg.error(`Auth (${_s}): ${t}`,...e)}function Fn(t,...e){throw AC(t,...e)}function ei(t,...e){return AC(t,...e)}function AC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rU.create(t,...e)}function S(t,e,...n){if(!t)throw AC(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sg(e),new Error(e)}function Is(t,e){t||ti(e)}function Kl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function sU(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=GI()||d2()}get(){return function eae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function xC(){return"http:"===sU()||"https:"===sU()}()||WI()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function MC(t,e){Is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class oU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rae=new Ql(3e4,6e4);function et(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function st(t,e,n,r){return NC.apply(this,arguments)}function NC(){return(NC=y(function*(t,e,n,r,i={}){return aU(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=$l(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),oU.fetch()(uU(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function aU(t,e,n){return RC.apply(this,arguments)}function RC(){return(RC=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nae),e);try{const i=new iae(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Yl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Yl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Yl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Yl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function iU(t,e,n){const r=Object.assign(Object.assign({},Zoe()),{[e]:n});return new Yr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Fn(t,l)}}catch(i){if(i instanceof dr)throw i;Fn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function kC(){return(kC=y(function*(t,e,n,r,i={}){const s=yield st(t,e,n,r,i);return"mfaPendingCredential"in s&&Fn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function uU(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?MC(t.config,i):`${t.config.apiScheme}://${i}`}class iae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),rae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ei(t,e,r);return i.customData._tokenResponse=n,i}function PC(){return(PC=y(function*(t,e){return st(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function LC(){return(LC=y(function*(t,e){return st(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Xl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function FC(){return(FC=y(function*(t,e=!1){const n=Xr(t),r=yield n.getIdToken(e),i=Ag(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Xl(VC(i.auth_time)),issuedAtTime:Xl(VC(i.iat)),expirationTime:Xl(VC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function VC(t){return 1e3*Number(t)}function Ag(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Sg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xp(n);return i?JSON.parse(i):(Sg("Failed to decode base64 JWT payload"),null)}catch(i){return Sg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bi(t,e){return UC.apply(this,arguments)}function UC(){return(UC=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof dr&&function lae({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class dae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class cU{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zl(t){return BC.apply(this,arguments)}function BC(){return BC=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Bi(t,function aae(t,e){return LC.apply(this,arguments)}(n,{idToken:r}));S(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function pae(t){return t.map(e=>{var{providerId:n}=e,r=Jy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function fae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cU(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),BC.apply(this,arguments)}function $C(){return($C=y(function*(t){const e=Xr(t);yield Zl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function jC(){return(jC=y(function*(t,e){const n=yield aU(t,{},y(function*(){const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uU(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oU.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function cae(t){const e=Ag(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function gae(t,e){return jC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Jl;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return ti("not implemented")}}function Es(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Vo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Bi(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function uae(t){return FC.apply(this,arguments)}(this,e)}reload(){return function hae(t){return $C.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Zl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Bi(e,function sae(t,e){return PC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:O,isAnonymous:F,providerData:ee,stsTokenManager:ut}=n;S(T&&ut,e,"internal-error");const kr=Jl.fromJSON(this.name,ut);S("string"==typeof T,e,"internal-error"),Es(d,e.name),Es(h,e.name),S("boolean"==typeof O,e,"internal-error"),S("boolean"==typeof F,e,"internal-error"),Es(f,e.name),Es(p,e.name),Es(g,e.name),Es(m,e.name),Es(w,e.name),Es(_,e.name);const Js=new Vo({uid:T,auth:e,email:h,emailVerified:O,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:kr,createdAt:w,lastLoginAt:_});return ee&&Array.isArray(ee)&&(Js.providerData=ee.map(r_e=>Object.assign({},r_e))),m&&(Js._redirectEventId=m),Js}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new Jl;i.updateFromServerResponse(n);const s=new Vo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zl(s),s})()}}const lU=new Map;function $i(t){Is(t instanceof Function,"Expected a class definition");let e=lU.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lU.set(t,e),e)}const dU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function xg(t,e,n){return`firebase:${t}:${e}:${n}`}class bu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xg(this.userKey,i.apiKey,s),this.fullPersistenceKey=xg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Vo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new bu($i(dU),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||$i(dU);const o=xg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Vo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new bu(s,e,r)):new bu(s,e,r)})()}}function hU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yU(e))return"Blackberry";if(_U(e))return"Webos";if(HC(e))return"Safari";if((e.includes("chrome/")||pU(e))&&!e.includes("edge/"))return"Chrome";if(mU(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function fU(t=Lt()){return/firefox\//i.test(t)}function HC(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pU(t=Lt()){return/crios\//i.test(t)}function gU(t=Lt()){return/iemobile/i.test(t)}function mU(t=Lt()){return/android/i.test(t)}function yU(t=Lt()){return/blackberry/i.test(t)}function _U(t=Lt()){return/webos/i.test(t)}function Mg(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vU(t=Lt()){return Mg(t)||mU(t)||_U(t)||yU(t)||/windows phone/i.test(t)||gU(t)}function wU(t,e=[]){let n;switch(t){case"Browser":n=hU(Lt());break;case"Worker":n=`${hU(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_s}/${r}`}function IU(t,e){return GC.apply(this,arguments)}function GC(){return(GC=y(function*(t,e){return st(t,"GET","/v2/recaptchaConfig",et(t,e))})).apply(this,arguments)}function CU(t){return void 0!==t&&void 0!==t.enterprise}class TU{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function WC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ei("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function wae(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function DU(t){return`__${t}${Math.floor(1e6*Math.random())}`}class bU{constructor(e){this.type="recaptcha-enterprise",this.auth=Vt(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(c,l){IU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new TU(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;CU(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&CU(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));WC("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Tae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Dae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SU(this),this.idTokenSubscription=new SU(this),this.beforeStateQueue=new Tae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield bu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Zl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function tae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?Xr(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence($i(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield IU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new TU(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new bU(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&$i(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield bu.create(n,[$i(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Joe(t,...e){bg.logLevel<=Z.WARN&&bg.warn(`Auth (${_s}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Vt(t){return Xr(t)}class SU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Nte(t,e){const n=new Rte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function AU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xU(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Nae{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}function ji(t,e){return cT.apply(this,arguments)}function cT(){return(cT=y(function*(t,e){return function Ui(t,e,n,r){return kC.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",et(t,e))})).apply(this,arguments)}class Ts{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gae extends Ts{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(function*(){const s=yield Vo._fromIdTokenResponse(e,r,i),o=kU(r);return new hr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=kU(r);return new hr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function kU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Og extends dr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Og.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Og(e,n,r,i)}}function PU(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Og._fromErrorAndOperation(t,s,e,r):s})}function vT(){return(vT=y(function*(t,e,n=!1){const r=yield Bi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return hr._forOperation(t,"link",r)})).apply(this,arguments)}function IT(){return(IT=y(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Bi(t,PU(r,i,e,t),n);S(s.idToken,r,"internal-error");const o=Ag(s.idToken);S(o,r,"internal-error");const{sub:a}=o;return S(t.uid===a,r,"user-mismatch"),hr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Fn(r,"user-mismatch"),s}})).apply(this,arguments)}function ET(){return(ET=y(function*(t,e,n=!1){const r="signIn",i=yield PU(t,r,e),s=yield hr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Fg="__sak";class UU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fg,"1"),this.storage.removeItem(Fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pue=(()=>{class t extends UU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function due(){const t=Lt();return HC(t)||Mg(t)}()&&function _ae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vU(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function yae(){return function Tte(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),BU=(()=>{class t extends UU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let mue=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return y(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function gue(t){return Promise.all(t.map(function(){var e=y(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function ZT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class yue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return y(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=ZT("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function It(){return window}function JT(){return typeof It().WorkerGlobalScope<"u"&&"function"==typeof It().importScripts}function eD(){return(eD=y(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $U="firebaseLocalStorageDb",Vg="firebaseLocalStorage",jU="fbase_key";class rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ug(t,e){return t.transaction([Vg],e?"readwrite":"readonly").objectStore(Vg)}function tD(){const t=indexedDB.open($U,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vg,{keyPath:jU})}catch(i){n(i)}}),t.addEventListener("success",y(function*(){const r=t.result;r.objectStoreNames.contains(Vg)?e(r):(r.close(),yield function Cue(){const t=indexedDB.deleteDatabase($U);return new rd(t).toPromise()}(),e(yield tD()))}))})}function HU(t,e,n){return nD.apply(this,arguments)}function nD(){return(nD=y(function*(t,e,n){const r=Ug(t,!0).put({[jU]:e,value:n});return new rd(r).toPromise()})).apply(this,arguments)}function rD(){return(rD=y(function*(t,e){const n=Ug(t,!1).get(e),r=yield new rd(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function zU(t,e){const n=Ug(t,!0).delete(e);return new rd(n).toPromise()}const Sue=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return y(function*(){return n.db||(n.db=yield tD()),n.db})()}_withRetries(n){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return y(function*(){return JT()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return y(function*(){n.receiver=mue._getInstance(function Iue(){return JT()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return y(function*(){var r,i;if(n.activeServiceWorker=yield function vue(){return eD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new yue(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function wue(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const n=yield tD();return yield HU(n,Fg,"1"),yield zU(n,Fg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return y(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>HU(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return y(function*(){const i=yield r._withRetries(s=>function Tue(t,e){return rD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>zU(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return y(function*(){const r=yield n._withRetries(o=>{const a=Ug(o,!1).getAll();return new rd(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();DU("rcb"),new Ql(3e4,6e4);class hD extends Nae{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hue(t){return function FU(t,e){return ET.apply(this,arguments)}(t.auth,new hD(t),t.bypassAuthState)}function zue(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),function LU(t,e){return IT.apply(this,arguments)}(n,new hD(t),t.bypassAuthState)}function Gue(t){return fD.apply(this,arguments)}function fD(){return(fD=y(function*(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),function _T(t,e){return vT.apply(this,arguments)}(n,new hD(t),t.bypassAuthState)})).apply(this,arguments)}class Wue{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hue;case"linkViaPopup":case"linkViaRedirect":return Gue;case"reauthViaPopup":case"reauthViaRedirect":return zue;default:Fn(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ql(2e3,1e4);const que="pendingRedirect",id=new Map;class Kue extends Wue{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return y(function*(){let r=id.get(n.auth._key());if(!r){try{const s=(yield function Que(t,e){return _D.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}id.set(n.auth._key(),r)}return n.bypassAuthState||id.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function _D(){return(_D=y(function*(t,e){const n=function qU(t){return xg(que,t.config.apiKey,t.name)}(e),r=function WU(t){return $i(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Yue(t,e){id.set(t._key(),e)}function KU(t,e){return DD.apply(this,arguments)}function DD(){return(DD=y(function*(t,e,n=!1){const r=Vt(t),i=function Bo(t,e){return e?$i(e):(S(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Kue(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class tce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function nce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XU(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XU(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ei(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(YU(e))}saveEventToCache(e){this.cachedEventUids.add(YU(e)),this.lastProcessedEventTime=Date.now()}}function YU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XU({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function SD(){return(SD=y(function*(t,e={}){return st(t,"GET","/v1/projects",e)})).apply(this,arguments)}const ice=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sce=/^https?/;function AD(){return AD=y(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function rce(t){return SD.apply(this,arguments)}(t);for(const n of e)try{if(ace(n))return}catch{}Fn(t,"unauthorized-domain")}),AD.apply(this,arguments)}function ace(t){const e=Kl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!sce.test(n))return!1;if(ice.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const uce=new Ql(3e4,6e4);function ZU(){const t=It().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let $g=null;const dce=new Ql(5e3,15e3),hce="__/auth/iframe",fce="emulator/auth/iframe",pce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mce(t){const e=t.config;S(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?MC(e,fce):`https://${t.config.authDomain}/${hce}`,r={apiKey:e.apiKey,appName:t.name,v:_s},i=gce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$l(r).slice(1)}`}function xD(){return xD=y(function*(t){const e=yield function lce(t){return $g=$g||function cce(t){return new Promise((e,n)=>{var r,i,s;function o(){ZU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZU(),n(ei(t,"network-request-failed"))},timeout:uce.get()})}if(null!==(i=null===(r=It().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=It().gapi)||void 0===s||!s.load){const a=DU("iframefcb");return It()[a]=()=>{gapi.load?o():n(ei(t,"network-request-failed"))},WC(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw $g=null,e})}(t),$g}(t),n=It().gapi;return S(n,t,"internal-error"),e.open({where:document.body,url:mce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pce,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ei(t,"network-request-failed"),u=It().setTimeout(()=>{o(a)},dce.get());function c(){It().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),xD.apply(this,arguments)}const _ce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class JU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Dce="__/auth/handler",bce="emulator/auth/handler",Sce=encodeURIComponent("fac");function e4(t,e,n,r,i,s){return MD.apply(this,arguments)}function MD(){return(MD=y(function*(t,e,n,r,i,s){S(t.config.authDomain,t,"auth-domain-config-required"),S(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_s,eventId:i};if(e instanceof Ts){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Gae){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Sce}=${encodeURIComponent(u)}`:"";return`${function Ace({config:t}){return t.emulator?MC(t,bce):`https://${t.authDomain}/${Dce}`}(t)}?${$l(a).slice(1)}${c}`})).apply(this,arguments)}const ND="webStorageSupport",Mce=class xce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BU,this._completeRedirectFn=KU,this._overrideRedirectResult=Yue}_openPopup(e,n,r,i){var s=this;return y(function*(){var o;Is(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield e4(e,n,r,Kl(),i);return function Cce(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},_ce),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Lt().toLowerCase();n&&(a=pU(c)?"_blank":n),fU(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function mae(t=Lt()){var e;return Mg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Tce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new JU(null);const d=window.open(e||"",a,l);S(d,t,"popup-blocked");try{d.focus()}catch{}return new JU(d)}(e,a,ZT())})()}_openRedirect(e,n,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function _ue(t){It().location.href=t}(yield e4(e,n,r,Kl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Is(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return y(function*(){const r=yield function yce(t){return xD.apply(this,arguments)}(e),i=new tce(e);return r.register("authEvent",s=>(S(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ND,{type:ND},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[ND];void 0!==o&&n(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function oce(t){return AD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vU()||HC()||Mg()}};var r4="@firebase/auth";class Nce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Oce=c2("authIdTokenMaxAge")||300;let s4=null;const Lce=t=>function(){var e=y(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Oce)return;const s=r?.token;s4!==s&&(s4=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Fce(t=og()){const e=Mo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function bae(t,e){const n=Mo(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(tg(n.getOptions(),e??{}))return i;Fn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Mce,persistence:[Sue,pue,BU]}),r=c2("authTokenSyncURL");if(r){const s=Lce(r);(function oue(t,e,n){Xr(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function sue(t,e,n,r){Xr(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=o2("auth");return i&&function Aae(t,e,n){const r=Vt(t);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=AU(e),{host:o,port:a}=function xae(t){const e=AU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xU(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:xU(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Mae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function kce(t){ln(new Yt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;S(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wU(t)},c=new Dae(r,i,s,u);return function Sae(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ln(new Yt("auth-internal",e=>{const n=Vt(e.getProvider("auth").getImmediate());return new Nce(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(r4,"0.23.2",function Rce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),ze(r4,"0.23.2","esm2017")}("Browser");class kD{constructor(e){return e}}class PD{constructor(){return pg("auth")}}const OD=new B("angularfire2.auth-instances");function Uce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new kD(r)}}const Bce={provide:PD,deps:[[new At,OD]]},$ce={provide:kD,useFactory:function Vce(t,e){const n=fg("auth",t,e);return n&&new kD(n)},deps:[[new At,OD],Fo]};let jce=(()=>{class t{constructor(){ze("angularfire",Gl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yr({type:t}),t.\u0275inj=ir({providers:[$ce,Bce]}),t})();function Hce(t,...e){return{ngModule:jce,providers:[{provide:OD,useFactory:Uce(t),multi:!0,deps:[ke,Kn,gg,yg,[new At,Dg],...e]}]}}const zce=mg(Fce,!0),a4="@firebase/database";let LD="";class Wce{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Bl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class qce{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Pi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const c4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Wce(e)}}catch{}return new qce},$o=c4("localStorage"),FD=c4("sessionStorage"),Au=new So("@firebase/database"),l4=function(){let t=1;return function(){return t++}}(),d4=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,x(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Mte;n.update(e);const r=n.digest();return Qp.encodeByteArray(r)},sd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=sd.apply(null,r):e+="object"==typeof r?Qt(r):r,e+=" "}return e};let jo=null,h4=!0;const Ut=function(...t){if(!0===h4&&(h4=!1,null===jo&&!0===FD.get("logging_enabled")&&function(t,e){x(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Au.logLevel=Z.VERBOSE,jo=Au.log.bind(Au),e&&FD.set("logging_enabled",!0)):"function"==typeof t?jo=t:(jo=null,FD.remove("logging_enabled"))}(!0)),jo){const e=sd.apply(null,t);jo(e)}},od=function(t){return function(...e){Ut(t,...e)}},VD=function(...t){const e="FIREBASE INTERNAL ERROR: "+sd(...t);Au.error(e)},ni=function(...t){const e=`FIREBASE FATAL ERROR: ${sd(...t)}`;throw Au.error(e),new Error(e)},dn=function(...t){const e="FIREBASE WARNING: "+sd(...t);Au.warn(e)},Hg=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ds="[MIN_NAME]",Hi="[MAX_NAME]",Ho=function(t,e){if(t===e)return 0;if(t===Ds||e===Hi)return-1;if(e===Ds||t===Hi)return 1;{const n=m4(t),r=m4(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Yce=function(t,e){return t===e?0:t<e?-1:1},ad=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qt(e))},UD=function(t){if("object"!=typeof t||null===t)return Qt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Qt(e[r]),n+=":",n+=UD(t[e[r]]);return n+="}",n},p4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const g4=function(t){x(!Hg(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},ele=new RegExp("^-?(0*)\\d{1,10}$"),m4=function(t){if(ele.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},xu=function(t){try{t()}catch(e){setTimeout(()=>{throw dn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},ud=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class ile{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){dn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class sle{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dn(e)}}let cd=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const I4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,T4="websocket",D4="long_polling";class $D{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$o.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$o.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function b4(t,e,n){let r;if(x("string"==typeof e,"typeof type must == string"),x("object"==typeof n,"typeof params must == object"),e===T4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==D4)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function ole(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Bt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class ale{constructor(){this.counters_={}}incrementCounter(e,n=1){Pi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yte(this.counters_)}}const jD={},HD={};function zD(t){const e=t.toString();return jD[e]||(jD[e]=new ale),jD[e]}class cle{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&xu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bs{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=od(e),this.stats_=zD(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),b4(n,D4,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new cle(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GD((...s)=>{const[o,a,u,c,l]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&I4.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bs.forceAllow_=!0}static forceDisallow(){bs.forceDisallow_=!0}static isAvailable(){return!(!bs.forceAllow_&&(bs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=i2(n),i=p4(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class GD{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=l4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=GD.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ut("frame writing exception"),a.stack&&Ut(a.stack),Ut(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ut("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Gg=null;typeof MozWebSocket<"u"?Gg=MozWebSocket:typeof WebSocket<"u"&&(Gg=WebSocket);let Mu=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=od(this.connId),this.stats_=zD(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&I4.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),b4(n,T4,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$o.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Gg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Gg&&!t.forceDisallow_}static previouslyFailed(){return $o.isInMemoryStorage||!0===$o.get("previous_websocket_failure")}markConnectionHealthy(){$o.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Bl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(x(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Qt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=p4(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),k4=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[bs,Mu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Mu&&Mu.isAvailable();let i=r&&!Mu.previouslyFailed();if(n.webSocketOnly&&(r||dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Mu];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class B4{constructor(e,n,r,i,s,o,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=od("c:"+this.id+":"),this.transportManager_=new k4(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ud(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ad("t",e),r=ad("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ad("t",e),r=ad("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ad("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?VD("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):VD("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ud(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ud(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($o.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $4{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class j4{constructor(e){this.allowedEvents_=e,this.listeners_={},x(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){x(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Wg extends j4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!GI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Wg}getInitialEvent(e){return x("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class be{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new be("")}function le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ss(t){return t.pieces_.length-t.pieceNum_}function Oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new be(t.pieces_,e)}function qD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ld(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function G4(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new be(e,0)}function Qe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof be)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new be(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function Dn(t,e){const n=le(t),r=le(e);if(null===n)return e;if(n===r)return Dn(Oe(t),Oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function KD(t,e){if(Ss(t)!==Ss(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ss(t)>Ss(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Rle{constructor(e,n){this.errorPrefix_=n,this.parts_=ld(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=rg(this.parts_[r]);W4(this)}}function W4(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zo(t))}function zo(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class QD extends j4{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new QD}getInitialEvent(e){return x("visible"===e,"Unknown event type: "+e),[this.visible_]}}const dd=1e3;let Kg,Go=(()=>{class t extends $4{constructor(n,r,i,s,o,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=od("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");QD.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Wg.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Qt(o)),x(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new vu,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),x(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Pi(n,"w")){const i=wu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Jp(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=Jp(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Qt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):VD("Unrecognized action received from server: "+Qt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){x(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dd,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=dd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=dd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return y(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,s())};n.realtime_={close:l,sendRequest:function(f){x(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new B4(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{dn(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),u||(n.repoInfo_.nodeAdmin&&dn(f),l())}}})()}interrupt(n){Ut("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ut("Resuming connection for reason: "+n),delete this.interruptReasons_[n],KI(this.interruptReasons_)&&(this.reconnectDelay_=dd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>UD(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new be(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Ut("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ut("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+LD.replace(/\./g,"-")]=1,GI()?n["framework.cordova"]=1:d2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Wg.getInstance().currentlyOnline();return KI(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class he{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new he(e,n)}}class qg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new he(Ds,e),i=new he(Ds,n);return 0!==this.compare(r,i)}minPost(){return he.MIN}}class Q4 extends qg{static get __EMPTY_NODE(){return Kg}static set __EMPTY_NODE(e){Kg=e}compare(e,n){return Ho(e.name,n.name)}isDefinedOn(e){throw _u("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return he.MIN}maxPost(){return new he(Hi,Kg)}makePost(e,n){return x("string"==typeof e,"KeyIndex indexValue must always be a string."),new he(e,Kg)}toString(){return".key"}}const ri=new Q4;class Qg{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let XD,Sr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Vn.EMPTY_NODE,this.right=o??Vn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Vn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Vn{constructor(e,n=Vn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Vn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Sr.BLACK,null,null))}remove(e){return new Vn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Sr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qg(this.root_,null,this.comparator_,!0,e)}}function Ble(t,e){return Ho(t.name,e.name)}function YD(t,e){return Ho(t,e)}Vn.EMPTY_NODE=new class Ule{copy(e,n,r,i,s){return this}insert(e,n,r){return new Sr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Y4=function(t){return"number"==typeof t?"number:"+g4(t):"string:"+t},X4=function(t){if(t.isLeafNode()){const e=t.val();x("string"==typeof e||"number"==typeof e||"object"==typeof e&&Pi(e,".sv"),"Priority must be a string or number.")}else x(t===XD||t.isEmpty(),"priority of unexpected type.");x(t===XD||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Z4,J4,eB,Nu=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,x(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),X4(this.priorityNode_)}static set __childrenNodeConstructor(n){Z4=n}static get __childrenNodeConstructor(){return Z4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return de(n)?this:".priority"===le(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=le(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(x(".priority"!==i||1===Ss(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Y4(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?g4(this.value_):this.value_,this.lazyHash_=d4(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(x(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return x(s>=0,"Unknown leaf type: "+r),x(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Ve=new class zle extends qg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Ho(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return he.MIN}maxPost(){return new he(Hi,new Nu("[PRIORITY-POST]",eB))}makePost(e,n){const r=J4(e);return new he(n,new Nu("[PRIORITY-POST]",r))}toString(){return".priority"}},Gle=Math.log(2);class Wle{constructor(e){this.count=parseInt(Math.log(e+1)/Gle,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yg=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new Sr(h,d.node,Sr.BLACK,null,null);{const f=parseInt(l/2,10)+u,p=i(u,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new Sr(h,d.node,Sr.BLACK,p,g)}},a=function(u){let c=null,l=null,d=t.length;const h=function(p,g){const m=d-p,w=d;d-=p;const _=i(m+1,w),T=t[m],O=n?n(T):T;f(new Sr(O,T.node,g,null,_))},f=function(p){c?(c.left=p,c=p):(l=p,c=p)};for(let p=0;p<u.count;++p){const g=u.nextBitIsOne(),m=Math.pow(2,u.count-(p+1));g?h(m,Sr.BLACK):(h(m,Sr.BLACK),h(m,Sr.RED))}return l}(new Wle(t.length));return new Vn(r||e,a)};let ZD;const Ru={};class zi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return x(Ru&&Ve,"ChildrenNode.ts has not been loaded"),ZD=ZD||new zi({".priority":Ru},{".priority":Ve}),ZD}get(e){const n=wu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Vn?n:null}hasIndex(e){return Pi(this.indexSet_,e.toString())}addIndex(e,n){x(e!==ri,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(he.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Yg(r,e.getCompare()):Ru;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new zi(l,c)}addToIndexes(e,n){const r=eg(this.indexes_,(i,s)=>{const o=wu(this.indexSet_,s);if(x(o,"Missing index implementation for "+s),i===Ru){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(he.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Yg(a,o.getCompare())}return Ru}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new he(e.name,a))),u.insert(e,e.node)}});return new zi(r,this.indexSet_)}removeFromIndexes(e,n){const r=eg(this.indexes_,i=>{if(i===Ru)return i;{const s=n.get(e.name);return s?i.remove(new he(e.name,s)):i}});return new zi(r,this.indexSet_)}}let hd,oe=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&X4(this.priorityNode_),this.children_.isEmpty()&&x(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hd||(hd=new t(new Vn(YD),null,zi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hd}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?hd:r}}getChild(n){const r=le(n);return null===r?this:this.getImmediateChild(r).getChild(Oe(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(x(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new he(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?hd:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=le(n);if(null===i)return r;{x(".priority"!==le(n)||1===Ss(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Oe(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Ve,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+Y4(this.getPriority().val())+":"),this.forEachChild(Ve,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":d4(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new he(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new he(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new he(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,he.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,he.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===fd?-1:0}withIndex(n){if(n===ri||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ri||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ve),s=r.getIterator(Ve);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===ri?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const fd=new class qle extends oe{constructor(){super(new Vn(YD),oe.EMPTY_NODE,zi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return oe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(he,{MIN:{value:new he(Ds,oe.EMPTY_NODE)},MAX:{value:new he(Hi,fd)}}),Q4.__EMPTY_NODE=oe.EMPTY_NODE,Nu.__childrenNodeConstructor=oe,function $le(t){XD=t}(fd),function Hle(t){eB=t}(fd);const Kle=!0;function tt(t,e=null){if(null===t)return oe.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),x(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Nu(t,tt(e));if(t instanceof Array||!Kle){let n=oe.EMPTY_NODE;return Bt(t,(r,i)=>{if(Pi(t,r)&&"."!==r.substring(0,1)){const s=tt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tt(e))}{const n=[];let r=!1;if(Bt(t,(o,a)=>{if("."!==o.substring(0,1)){const u=tt(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new he(o,u)))}}),0===n.length)return oe.EMPTY_NODE;const s=Yg(n,Ble,o=>o.name,YD);if(r){const o=Yg(n,Ve.getCompare());return new oe(s,tt(e),new zi({".priority":o},{".priority":Ve}))}return new oe(s,tt(e),zi.Default)}}!function jle(t){J4=t}(tt);class JD extends qg{constructor(e){super(),this.indexPath_=e,x(!de(e)&&".priority"!==le(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Ho(e.name,n.name):s}makePost(e,n){const r=tt(e),i=oe.EMPTY_NODE.updateChild(this.indexPath_,r);return new he(n,i)}maxPost(){const e=oe.EMPTY_NODE.updateChild(this.indexPath_,fd);return new he(Hi,e)}toString(){return ld(this.indexPath_,0).join("/")}}const eb=new class Qle extends qg{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Ho(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,n){const r=tt(e);return new he(n,r)}toString(){return".value"}};function gd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class nb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return x(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return x(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ds}hasEnd(){return this.endSet_}getIndexEndValue(){return x(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return x(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return x(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new nb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function nB(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ve?n="$priority":t.index_===eb?n="$value":t.index_===ri?n="$key":(x(t.index_ instanceof JD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Qt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Qt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Qt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Qt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rB(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ve&&(e.i=t.index_.toString()),e}class Zg extends $4{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=od("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(x(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Zg.getListenId_(e,r),a={};this.listens_[o]=a;const u=nB(e._queryParams);this.restRequest_(s+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),wu(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=Zg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=nB(e._queryParams),r=e._path.toString(),i=new vu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+$l(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=Bl(a.responseText)}catch{dn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&dn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class rde{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Jg(){return{value:null,children:new Map}}function Pu(t,e,n){if(de(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=le(e);t.children.has(r)||t.children.set(r,Jg()),Pu(t.children.get(r),e=Oe(e),n)}}function ob(t,e,n){null!==t.value?n(e,t.value):function ide(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{ob(i,new be(e.toString()+"/"+r),n)})}class sde{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class ude{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new sde(e);const r=1e4+2e4*Math.random();ud(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Bt(e,(i,s)=>{s>0&&Pi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ud(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Et=(()=>((Et=Et||{})[Et.OVERWRITE=0]="OVERWRITE",Et[Et.MERGE=1]="MERGE",Et[Et.ACK_USER_WRITE=2]="ACK_USER_WRITE",Et[Et.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Et))();function cb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class em{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Et.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(de(this.path)){if(null!=this.affectedTree.value)return x(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new be(e));return new em(Ee(),n,this.revert)}}return x(le(this.path)===e,"operationForChild called for unrelated child."),new em(Oe(this.path),this.affectedTree,this.revert)}}class Wo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Et.OVERWRITE}operationForChild(e){return de(this.path)?new Wo(this.source,Ee(),this.snap.getImmediateChild(e)):new Wo(this.source,Oe(this.path),this.snap)}}class Ou{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Et.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new be(e));return n.isEmpty()?null:n.value?new Wo(this.source,Ee(),n.value):new Ou(this.source,Ee(),n)}return x(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ou(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class As{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function _d(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function hde(t,e,n){if(null==e.childName||null==n.childName)throw _u("Should only compare child_ events.");const r=new he(e.childName,e.snapshotNode),i=new he(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function dde(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function tm(t,e){return{eventCache:t,serverCache:e}}function vd(t,e,n,r){return tm(new As(e,n,r),t.serverCache)}function sB(t,e,n,r){return tm(t.eventCache,new As(e,n,r))}function nm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let lb;class Ue{constructor(e,n=(()=>(lb||(lb=new Vn(Yce)),lb))()){this.value=e,this.children=n}static fromObject(e){let n=new Ue(null);return Bt(e,(r,i)=>{n=n.set(new be(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ee(),value:this.value};if(de(e))return null;{const r=le(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Oe(e),n);return null!=s?{path:Qe(new be(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=le(e),r=this.children.get(n);return null!==r?r.subtree(Oe(e)):new Ue(null)}}set(e,n){if(de(e))return new Ue(n,this.children);{const r=le(e),s=(this.children.get(r)||new Ue(null)).set(Oe(e),n),o=this.children.insert(r,s);return new Ue(this.value,o)}}remove(e){if(de(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const n=le(e),r=this.children.get(n);if(r){const i=r.remove(Oe(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Ue(null):new Ue(this.value,s)}return this}}get(e){if(de(e))return this.value;{const n=le(e),r=this.children.get(n);return r?r.get(Oe(e)):null}}setTree(e,n){if(de(e))return n;{const r=le(e),s=(this.children.get(r)||new Ue(null)).setTree(Oe(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ue(this.value,o)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Qe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(de(e))return null;{const s=le(e),o=this.children.get(s);return o?o.findOnPath_(Oe(e),Qe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,r){if(de(e))return this;{this.value&&r(n,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Oe(e),Qe(n,i),r):new Ue(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Qe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ar{constructor(e){this.writeTree_=e}static empty(){return new Ar(new Ue(null))}}function wd(t,e,n){if(de(e))return new Ar(new Ue(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Dn(i,e);return s=s.updateChild(o,n),new Ar(t.writeTree_.set(i,s))}{const i=new Ue(n),s=t.writeTree_.setTree(e,i);return new Ar(s)}}}function db(t,e,n){let r=t;return Bt(n,(i,s)=>{r=wd(r,Qe(e,i),s)}),r}function oB(t,e){if(de(e))return Ar.empty();{const n=t.writeTree_.setTree(e,new Ue(null));return new Ar(n)}}function hb(t,e){return null!=Ko(t,e)}function Ko(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Dn(n.path,e)):null}function aB(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ve,(r,i)=>{e.push(new he(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new he(r,i.value))}),e}function xs(t,e){if(de(e))return t;{const n=Ko(t,e);return new Ar(null!=n?new Ue(n):t.writeTree_.subtree(e))}}function fb(t){return t.writeTree_.isEmpty()}function Lu(t,e){return uB(Ee(),t.writeTree_,e)}function uB(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(x(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=uB(Qe(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Qe(t,".priority"),r)),n}}function rm(t,e){return fB(e,t)}function _de(t,e){if(t.snap)return fr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fr(Qe(t.path,n),e))return!0;return!1}function wde(t){return t.visible}function cB(t,e,n){let r=Ar.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)fr(n,o)?(a=Dn(n,o),r=wd(r,a,s.snap)):fr(o,n)&&(a=Dn(o,n),r=wd(r,Ee(),s.snap.getChild(a)));else{if(!s.children)throw _u("WriteRecord should have .snap or .children");if(fr(n,o))a=Dn(n,o),r=db(r,a,s.children);else if(fr(o,n))if(a=Dn(o,n),de(a))r=db(r,Ee(),s.children);else{const u=wu(s.children,le(a));if(u){const c=u.getChild(Oe(a));r=wd(r,Ee(),c)}}}}}return r}function lB(t,e,n,r,i){if(r||i){const s=xs(t.visibleWrites,e);return!i&&fb(s)?n:i||null!=n||hb(s,Ee())?Lu(cB(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(fr(c.path,e)||fr(e,c.path))},e),n||oe.EMPTY_NODE):null}{const s=Ko(t.visibleWrites,e);if(null!=s)return s;{const o=xs(t.visibleWrites,e);return fb(o)?n:null!=n||hb(o,Ee())?Lu(o,n||oe.EMPTY_NODE):null}}}function im(t,e,n,r){return lB(t.writeTree,t.treePath,e,n,r)}function pb(t,e){return function Ide(t,e,n){let r=oe.EMPTY_NODE;const i=Ko(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ve,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=xs(t.visibleWrites,e);return n.forEachChild(Ve,(o,a)=>{const u=Lu(xs(s,new be(o)),a);r=r.updateImmediateChild(o,u)}),aB(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return aB(xs(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function dB(t,e,n,r){return function Ede(t,e,n,r,i){x(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Qe(e,n);if(hb(t.visibleWrites,s))return null;{const o=xs(t.visibleWrites,s);return fb(o)?i.getChild(n):Lu(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function sm(t,e){return function Tde(t,e){return Ko(t.visibleWrites,e)}(t.writeTree,Qe(t.treePath,e))}function gb(t,e,n){return function Cde(t,e,n,r){const i=Qe(e,n),s=Ko(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Lu(xs(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function hB(t,e){return fB(Qe(t.treePath,e),t.writeTree)}function fB(t,e){return{treePath:t,writeTree:e}}class Ade{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;x("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),x(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,gd(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function pd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function ku(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw _u("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,gd(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const pB=new class xde{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class mb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new As(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qo(this.viewCache_),s=function Sde(t,e,n,r,i,s){return function Dde(t,e,n,r,i,s,o){let a;const u=xs(t.visibleWrites,e),c=Ko(u,Ee());if(null!=c)a=c;else{if(null==n)return[];a=Lu(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function gB(t,e,n,r,i,s){const o=e.eventCache;if(null!=sm(r,n))return e;{let a,u;if(de(n))if(x(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=qo(e),d=pb(r,c instanceof oe?c:oe.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=im(r,qo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=le(n);if(".priority"===c){x(1===Ss(n),"Can't have a priority with additional path components");const l=o.getNode();u=e.serverCache.getNode();const d=dB(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):o.getNode()}else{const l=Oe(n);let d;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const h=dB(r,n,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(c).updateChild(l,h):o.getNode().getImmediateChild(c)}else d=gb(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,l,i,s):o.getNode()}}return vd(e,a,o.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function om(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const l=o?t.filter:t.filter.getIndexedFilter();if(de(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),f,null)}else{const f=le(n);if(!u.isCompleteForPath(n)&&Ss(n)>1)return e;const p=Oe(n),m=u.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),m):l.updateChild(u.getNode(),f,m,p,pB,null)}const d=sB(e,c,u.isFullyInitialized()||de(n),l.filtersNodes());return gB(t,d,n,i,new mb(i,d,s),a)}function yb(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const l=new mb(i,e,s);if(de(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=vd(e,c,!0,t.filter.filtersNodes());else{const d=le(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=vd(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Oe(n),f=a.getNode().getImmediateChild(d);let p;if(de(h))p=r;else{const g=l.getCompleteChild(d);p=null!=g?".priority"===qD(h)&&g.getChild(G4(h)).isEmpty()?g:g.updateChild(h,r):oe.EMPTY_NODE}u=f.equals(p)?e:vd(e,t.filter.updateChild(a.getNode(),d,p,h,l,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function mB(t,e){return t.eventCache.isCompleteForChild(e)}function yB(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _b(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=de(n)?r:new Ue(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=yB(0,e.serverCache.getNode().getImmediateChild(d),h);u=om(t,u,new be(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!f){const g=yB(0,e.serverCache.getNode().getImmediateChild(d),h);u=om(t,u,new be(d),g,i,s,o,a)}}),u}function $de(t,e){const n=qo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(le(e)).isEmpty())?n.getChild(e):null}function wB(t,e,n,r){e.type===Et.MERGE&&null!==e.source.queryId&&(x(qo(t.viewCache_),"We should always have a full cache before handling merges"),x(nm(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function Rde(t,e,n,r,i){const s=new Ade;let o,a;if(n.type===Et.OVERWRITE){const c=n;c.source.fromUser?o=yb(t,e,c.path,c.snap,r,i,s):(x(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!de(c.path),o=om(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Et.MERGE){const c=n;c.source.fromUser?o=function Pde(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const l=Qe(n,u);mB(e,le(l))&&(a=yb(t,a,l,c,i,s,o))}),r.foreach((u,c)=>{const l=Qe(n,u);mB(e,le(l))||(a=yb(t,a,l,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(x(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=_b(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Et.ACK_USER_WRITE){const c=n;o=c.revert?function Fde(t,e,n,r,i,s){let o;if(null!=sm(r,n))return e;{const a=new mb(r,e,i),u=e.eventCache.getNode();let c;if(de(n)||".priority"===le(n)){let l;if(e.serverCache.isFullyInitialized())l=im(r,qo(e));else{const d=e.serverCache.getNode();x(d instanceof oe,"serverChildren would be complete if leaf node"),l=pb(r,d)}c=t.filter.updateFullNode(u,l,s)}else{const l=le(n);let d=gb(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,Oe(n),a,s):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,oe.EMPTY_NODE,Oe(n),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=im(r,qo(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=sm(r,Ee()),vd(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function Ode(t,e,n,r,i,s,o){if(null!=sm(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(de(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return om(t,e,n,u.getNode().getChild(n),i,s,a,o);if(de(n)){let c=new Ue(null);return u.getNode().forEachChild(ri,(l,d)=>{c=c.set(new be(l),d)}),_b(t,e,n,c,i,s,a,o)}return e}{let c=new Ue(null);return r.foreach((l,d)=>{const h=Qe(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),_b(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Et.LISTEN_COMPLETE)throw _u("Unknown operation type: "+n.type);o=function Lde(t,e,n,r,i){const s=e.serverCache;return gB(t,sB(e,s.getNode(),s.isFullyInitialized()||de(n),s.isFiltered()),n,r,pB,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function kde(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=nm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function tB(t){return{type:"value",snapshotNode:t}}(nm(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function Nde(t,e){x(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),x(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),x(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function IB(t,e,n,r){return function lde(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Yle(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),_d(t,i,"child_removed",e,r,n),_d(t,i,"child_added",e,r,n),_d(t,i,"child_moved",s,r,n),_d(t,i,"child_changed",e,r,n),_d(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let am,cm;function vb(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return x(null!=s,"SyncTree gave us an op for an invalid query."),wB(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(wB(o,e,n,r));return s}}function Ms(t,e){let n=null;for(const r of t.views.values())n=n||$de(r,e);return n}class SB{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=function bde(){return{visibleWrites:Ar.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wb(t,e,n,r,i){return function pde(t,e,n,r,i){x(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=wd(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Fu(t,new Wo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Rs(t,e,n=!1){const r=function mde(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function yde(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);x(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&_de(a,r.path)?i=!1:fr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function vde(t){t.visibleWrites=cB(t.allWrites,wde,Ee()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=oB(t.visibleWrites,r.path):Bt(r.children,u=>{t.visibleWrites=oB(t.visibleWrites,Qe(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new Ue(null);return null!=r.snap?s=s.set(Ee(),!0):Bt(r.children,o=>{s=s.set(new be(o),!0)}),Fu(t,new em(r.path,s,n))}return[]}function Id(t,e,n){return Fu(t,new Wo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function dm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=Ms(a,Dn(o,e));if(c)return c});return lB(i,e,s,n,!0)}function Fu(t,e){return xB(e,t.syncPointTree_,null,rm(t.pendingWriteTree_,Ee()))}function xB(t,e,n,r){if(de(t.path))return MB(t,e,n,r);{const i=e.get(Ee());null==n&&null!=i&&(n=Ms(i,Ee()));let s=[];const o=le(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,l=hB(r,o);s=s.concat(xB(a,u,c,l))}return i&&(s=s.concat(vb(i,t,r,n))),s}}function MB(t,e,n,r){const i=e.get(Ee());null==n&&null!=i&&(n=Ms(i,Ee()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=hB(r,o),l=t.operationForChild(o);l&&(s=s.concat(MB(l,a,u,c)))}),i&&(s=s.concat(vb(i,t,r,n))),s}function Eb(t,e){return t.tagToQueryMap.get(e)}function Cb(t){const e=t.indexOf("$");return x(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new be(t.substr(0,e))}}function Tb(t,e,n){const r=t.syncPointTree_.get(e);return x(r,"Missing sync point for query tag that we're tracking"),vb(r,n,rm(t.pendingWriteTree_,e),null)}class Db{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Db(n)}node(){return this.node_}}class bb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Qe(this.path_,e);return new bb(this.syncTree_,n)}node(){return dm(this.syncTree_,this.path_)}}const uhe=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},RB=function(t,e,n){return t&&"object"==typeof t?(x(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?che(t[".sv"],e,n):"object"==typeof t[".sv"]?lhe(t[".sv"],e):void x(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},che=function(t,e,n){if("timestamp"===t)return n.timestamp;x(!1,"Unexpected server value: "+t)},lhe=function(t,e,n){t.hasOwnProperty("increment")||x(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&x(!1,"Unexpected increment value: "+r);const i=e.node();if(x(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},kB=function(t,e,n,r){return Ab(e,new bb(n,t),r)},Sb=function(t,e,n){return Ab(t,new Db(e),n)};function Ab(t,e,n){const r=t.getPriority().val(),i=RB(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=RB(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Nu(a,tt(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Nu(i))),o.forEachChild(Ve,(a,u)=>{const c=Ab(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class xb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function fm(t,e){let n=e instanceof be?e:new be(e),r=t,i=le(n);for(;null!==i;){const s=wu(r.node.children,i)||{children:{},childCount:0};r=new xb(i,r,s),n=Oe(n),i=le(n)}return r}function Qo(t){return t.node.value}function Mb(t,e){t.node.value=e,Nb(t)}function PB(t){return t.node.childCount>0}function pm(t,e){Bt(t.node.children,(n,r)=>{e(new xb(n,t,r))})}function OB(t,e,n,r){n&&!r&&e(t),pm(t,i=>{OB(i,e,!0,r)}),n&&r&&e(t)}function Td(t){return new be(null===t.parent?t.name:Td(t.parent)+"/"+t.name)}function Nb(t){null!==t.parent&&function fhe(t,e,n){const r=function dhe(t){return void 0===Qo(t)&&!PB(t)}(n),i=Pi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Nb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Nb(t))}(t.parent,t.name,t)}const phe=/[\[\].#$\/\u0000-\u001F\u007F]/,ghe=/[\[\].#$\u0000-\u001F\u007F]/,Rb=10485760,gm=function(t){return"string"==typeof t&&0!==t.length&&!phe.test(t)},bd=function(t,e,n){const r=n instanceof be?new Rle(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+zo(r));if("function"==typeof e)throw new Error(t+"contains a function "+zo(r)+" with contents = "+e.toString());if(Hg(e))throw new Error(t+"contains "+e.toString()+" "+zo(r));if("string"==typeof e&&e.length>Rb/3&&rg(e)>Rb)throw new Error(t+"contains a string greater than "+Rb+" utf8 bytes "+zo(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Bt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!gm(o)))throw new Error(t+" contains an invalid key ("+o+") "+zo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function kle(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=rg(e),W4(t)})(r,o),bd(t,a,r),function Ple(t){const e=t.parts_.pop();t.byteLength_-=rg(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+zo(r)+" in addition to actual children.")}},VB=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!gm(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!ghe.test(t)}(t)}(n))throw new Error(function ng(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class vhe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xn(t,e,n){(function mm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!KD(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function BB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(whe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>fr(r,e)||fr(e,r))}function whe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();jo&&Ut("event: "+n.toString()),xu(r)}}}const Ihe=25;class Ehe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vhe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jg(),this.transactionQueueTree_=new xb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jB(t){const n=t.infoData_.getNode(new be(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Ad(t){return uhe({timestamp:jB(t)})}function HB(t,e,n,r,i){t.dataUpdateCount++;const s=new be(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=eg(n,c=>tt(c));o=function nhe(t,e,n,r){const i=Eb(t,r);if(i){const s=Cb(i),o=s.path,a=s.queryId,u=Dn(o,e),c=Ue.fromObject(n);return Tb(t,o,new Ou(cb(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=tt(n);o=function AB(t,e,n,r){const i=Eb(t,r);if(null!=i){const s=Cb(i),o=s.path,a=s.queryId,u=Dn(o,e);return Tb(t,o,new Wo(cb(a),u,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){const u=eg(n,c=>tt(c));o=function Jde(t,e,n){const r=Ue.fromObject(n);return Fu(t,new Ou({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=tt(n);o=Id(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=Uu(t,s)),Xn(t.eventQueue_,a,o)}function zB(t,e){Ob(t,"connected",e),!1===e&&function She(t){Vu(t,"onDisconnectEvents");const e=Ad(t),n=Jg();ob(t.onDisconnect_,Ee(),(i,s)=>{const o=kB(i,s,t.serverSyncTree_,e);Pu(n,i,o)});let r=[];ob(n,Ee(),(i,s)=>{r=r.concat(Id(t.serverSyncTree_,i,s));const o=function Ub(t,e){const n=Td(qB(t,e)),r=fm(t.transactionQueueTree_,e);return function hhe(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Bb(t,i)}),Bb(t,r),OB(r,i=>{Bb(t,i)}),n}(t,i);Uu(t,o)}),t.onDisconnect_=Jg(),Xn(t.eventQueue_,Ee(),r)}(t)}function Ob(t,e,n){const r=new be("/.info/"+e),i=tt(n);t.infoData_.updateSnapshot(r,i);const s=Id(t.infoSyncTree_,r,i);Xn(t.eventQueue_,r,s)}function ym(t){return t.nextWriteId_++}function Vu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ut(n,...e)}function Vb(t,e,n){return dm(t.serverSyncTree_,e,n)||oe.EMPTY_NODE}function _m(t,e=t.transactionQueueTree_){if(e||vm(t,e),Qo(e)){const n=KB(t,e);x(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Phe(t,e,n){const r=n.map(c=>c.currentWriteId),i=Vb(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const l=n[c];x(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=Dn(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{Vu(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(Rs(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();vm(t,fm(t.transactionQueueTree_,e)),_m(t,t.transactionQueueTree_),Xn(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)xu(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{dn("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Uu(t,e)}},o)}(t,Td(e),n)}else PB(e)&&pm(e,n=>{_m(t,n)})}function Uu(t,e){const n=qB(t,e),r=Td(n);return function Ohe(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=Dn(n,u.path);let d,l=!1;if(x(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(Rs(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Ihe)l=!0,d="maxretry",i=i.concat(Rs(t.serverSyncTree_,u.currentWriteId,!0));else{const h=Vb(t,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){bd("transaction failed: Data returned ",f,u.path);let p=tt(f);"object"==typeof f&&null!=f&&Pi(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=u.currentWriteId,w=Ad(t),_=Sb(p,h,w);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=_,u.currentWriteId=ym(t),o.splice(o.indexOf(m),1),i=i.concat(wb(t.serverSyncTree_,u.path,_,u.currentWriteId,u.applyLocally)),i=i.concat(Rs(t.serverSyncTree_,m,!0))}else l=!0,d="nodata",i=i.concat(Rs(t.serverSyncTree_,u.currentWriteId,!0))}Xn(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}vm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)xu(r[a]);_m(t,t.transactionQueueTree_)}(t,KB(t,n),r),r}function qB(t,e){let n,r=t.transactionQueueTree_;for(n=le(e);null!==n&&void 0===Qo(r);)r=fm(r,n),n=le(e=Oe(e));return r}function KB(t,e){const n=[];return QB(t,e,n),n.sort((r,i)=>r.order-i.order),n}function QB(t,e,n){const r=Qo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);pm(e,i=>{QB(t,i,n)})}function vm(t,e){const n=Qo(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Mb(e,n.length>0?n:void 0)}pm(e,r=>{vm(t,r)})}function Bb(t,e){const n=Qo(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(x(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(x(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Rs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Mb(e,void 0):n.length=s+1,Xn(t.eventQueue_,Td(e),i);for(let o=0;o<r.length;o++)xu(r[o])}}const $b=function(t,e){const n=Vhe(t),r=n.namespace;return"firebase.com"===n.domain&&ni(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $D(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new be(n.pathString)}},Vhe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function Lhe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(l,d)));const h=function Fhe(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dn(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Zn{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return de(this._path)?null:qD(this._path)}get ref(){return new xr(this._repo,this._path)}get _queryIdentifier(){const e=rB(this._queryParams),n=UD(e);return"{}"===n?"default":n}get _queryObject(){return rB(this._queryParams)}isEqual(e){if(!((e=Xr(e))instanceof Zn))return!1;const n=this._repo===e._repo,r=KD(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Mle(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class xr extends Zn{constructor(e,n){super(e,n,new nb,!1)}get parent(){const e=G4(this._path);return null===e?null:new xr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function zde(t){x(!am,"__referenceConstructor has already been defined"),am=t})(xr),function Qde(t){x(!cm,"__referenceConstructor has already been defined"),cm=t}(xr);const Hb={};class ife{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Che(t,e,n){if(t.stats_=zD(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Zg(t.repoInfo_,(r,i,s,o)=>{HB(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>zB(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Go(t.repoInfo_,e,(r,i,s,o)=>{HB(t,r,i,s,o)},r=>{zB(t,r)},r=>{!function The(t,e){Bt(e,(n,r)=>{Ob(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function ule(t,e){const n=t.toString();return HD[n]||(HD[n]=e()),HD[n]}(t.repoInfo_,()=>new ude(t.stats_,t.server_)),t.infoData_=new rde,t.infoSyncTree_=new SB({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=Id(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ob(t,"connected",!1),t.serverSyncTree_=new SB({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);Xn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xr(this._repo,Ee())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function tfe(t,e){const n=Hb[e];(!n||n[t.key]!==t)&&ni(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function WB(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ni("Cannot call "+e+" on a deleted database.")}}function sfe(t=og(),e){const n=Mo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=a2("database");r&&function ofe(t,e,n,r={}){(t=Xr(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&ni("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cd(cd.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:l2(r.mockUserToken,t.app.options.projectId);s=new cd(o)}!function Jhe(t,e,n,r){t.repoInfo_=new $D(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}Go.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Go.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function afe(t){(function Gce(t){LD=t})(_s),ln(new Yt("database",(e,{instanceIdentifier:n})=>function efe(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=$b(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=$b(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const l=i&&u?new cd(cd.OWNER):new sle(t.name,t.options,e);VB("Invalid Firebase Database URL",o),de(o.path)||ni("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function nfe(t,e,n,r){let i=Hb[e.name];i||(i={},Hb[e.name]=i);let s=i[t.toURLString()];return s&&ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ehe(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,l,new ile(t.name,n));return new ife(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),ze(a4,"0.14.4",t),ze(a4,"0.14.4","esm2017")}();class zb{constructor(e){return e}}const i3="database",Gb=new B("angularfire2.database-instances");function hfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zb(r)}}const ffe={provide:class lfe{constructor(){return pg(i3)}},deps:[[new At,Gb]]},pfe={provide:zb,useFactory:function dfe(t,e){const n=fg(i3,t,e);return n&&new zb(n)},deps:[[new At,Gb],Fo]};let gfe=(()=>{class t{constructor(){ze("angularfire",Gl.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yr({type:t}),t.\u0275inj=ir({providers:[pfe,ffe]}),t})();function mfe(t,...e){return{ngModule:gfe,providers:[{provide:Gb,useFactory:hfe(t),multi:!0,deps:[ke,Kn,gg,yg,[new At,PD],[new At,Dg],...e]}]}}const yfe=mg(sfe,!0);var R,_fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={},Wb=Wb||{},ne=_fe||self;function Cm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Nd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qb="closure_uid_"+(1e9*Math.random()>>>0),wfe=0;function Ife(t,e,n){return t.call.apply(t.bind,arguments)}function Efe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function hn(t,e,n){return(hn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ife:Efe).apply(null,arguments)}function Tm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function $t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Os(){this.s=this.s,this.o=this.o}Os.prototype.s=!1,Os.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vfe(t){Object.prototype.hasOwnProperty.call(t,qb)&&t[qb]||(t[qb]=++wfe)}(this)},Os.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Kb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function o3(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Cm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function fn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var Tfe=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return t}();function Rd(t){return/^[\s\xa0]*$/.test(t)}function Dm(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function oi(t){return-1!=Dm().indexOf(t)}function Qb(t){return Qb[" "](t),t}Qb[" "]=function(){};var Xb,t,bfe=oi("Opera"),$u=oi("Trident")||oi("MSIE"),a3=oi("Edge"),Yb=a3||$u,u3=oi("Gecko")&&!(-1!=Dm().toLowerCase().indexOf("webkit")&&!oi("Edge"))&&!(oi("Trident")||oi("MSIE"))&&!oi("Edge"),Sfe=-1!=Dm().toLowerCase().indexOf("webkit")&&!oi("Edge");function c3(){var t=ne.document;return t?t.documentMode:void 0}e:{var Zb="",Jb=(t=Dm(),u3?/rv:([^\);]+)(\)|;)/.exec(t):a3?/Edge\/([\d\.]+)/.exec(t):$u?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Sfe?/WebKit\/(\S+)/.exec(t):bfe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Jb&&(Zb=Jb?Jb[1]:""),$u){var eS=c3();if(null!=eS&&eS>parseFloat(Zb)){Xb=String(eS);break e}}Xb=Zb}var Afe=ne.document&&$u&&(c3()||parseInt(Xb,10))||void 0;function kd(t,e){if(fn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(u3){e:{try{Qb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:xfe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&kd.$.h.call(this)}}$t(kd,fn);var xfe={2:"touch",3:"pen",4:"mouse"};kd.prototype.h=function(){kd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pd="closure_listenable_"+(1e6*Math.random()|0),Mfe=0;function Nfe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Mfe,this.fa=this.ia=!1}function bm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function d3(t){const e={};for(const n in t)e[n]=t[n];return e}const h3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f3(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<h3.length;s++)n=h3[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sm(t){this.src=t,this.g={},this.h=0}function rS(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=s3(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(bm(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function iS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Sm.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=iS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Nfe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var sS="closure_lm_"+(1e6*Math.random()|0),oS={};function p3(t,e,n,r,i){if(r&&r.once)return m3(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)p3(t,e[s],n,r,i);return null}return n=lS(n),t&&t[Pd]?t.O(e,n,Nd(r)?!!r.capture:!!r,i):g3(t,e,n,!1,r,i)}function g3(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nd(i)?!!i.capture:!!i,a=uS(t);if(a||(t[sS]=a=new Sm(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function kfe(){const e=Pfe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Tfe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_3(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function m3(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)m3(t,e[s],n,r,i);return null}return n=lS(n),t&&t[Pd]?t.P(e,n,Nd(r)?!!r.capture:!!r,i):g3(t,e,n,!0,r,i)}function y3(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)y3(t,e[s],n,r,i);else r=Nd(r)?!!r.capture:!!r,n=lS(n),t&&t[Pd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=iS(s=t.g[e],n,r,i))&&(bm(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=uS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=iS(e,n,r,i)),(n=-1<t?e[t]:null)&&aS(n))}function aS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Pd])rS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uS(e))?(rS(n,t),0==n.h&&(n.src=null,e[sS]=null)):bm(t)}}}function _3(t){return t in oS?oS[t]:oS[t]="on"+t}function Pfe(t,e){if(t.fa)t=!0;else{e=new kd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&aS(t),t=n.call(r,e)}return t}function uS(t){return(t=t[sS])instanceof Sm?t:null}var cS="__closure_events_fn_"+(1e9*Math.random()>>>0);function lS(t){return"function"==typeof t?t:(t[cS]||(t[cS]=function(e){return t.handleEvent(e)}),t[cS])}function jt(){Os.call(this),this.i=new Sm(this),this.S=this,this.J=null}function Jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new fn(e,t);else if(e instanceof fn)e.target=e.target||t;else{var i=e;f3(e=new fn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Am(o,r,!0,e)&&i}if(i=Am(o=e.g=t,r,!0,e)&&i,i=Am(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Am(o=e.g=n[s],r,!1,e)&&i}function Am(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&rS(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}$t(jt,Os),jt.prototype[Pd]=!0,jt.prototype.removeEventListener=function(t,e,n,r){y3(this,t,e,n,r)},jt.prototype.N=function(){if(jt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bm(n[r]);delete t.g[e],t.h--}}this.J=null},jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},jt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var dS=ne.JSON.stringify;function Lfe(){var t=hS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var v3=new class Ofe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Vfe,t=>t.reset());class Vfe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ufe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bfe(t){ne.setTimeout(()=>{throw t},0)}let Od,Ld=!1,hS=new class Ffe{constructor(){this.h=this.g=null}add(e,n){const r=v3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},w3=()=>{const t=ne.Promise.resolve(void 0);Od=()=>{t.then($fe)}};var $fe=()=>{for(var t;t=Lfe();){try{t.h.call(t.g)}catch(n){Bfe(n)}var e=v3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ld=!1};function xm(t,e){jt.call(this),this.h=t||1,this.g=e||ne,this.j=hn(this.qb,this),this.l=Date.now()}function fS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function pS(t,e,n){if("function"==typeof t)n&&(t=hn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=hn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function I3(t){t.g=pS(()=>{t.g=null,t.i&&(t.i=!1,I3(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}$t(xm,jt),(R=xm.prototype).ga=!1,R.T=null,R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(fS(this),this.start()))}},R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.N=function(){xm.$.N.call(this),fS(this),delete this.g};class jfe extends Os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:I3(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fd(t){Os.call(this),this.h=t,this.g={}}$t(Fd,Os);var E3=[];function C3(t,e,n,r){Array.isArray(n)||(n&&(E3[0]=n.toString()),n=E3);for(var i=0;i<n.length;i++){var s=p3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function T3(t){nS(t.g,function(e,n){this.g.hasOwnProperty(n)&&aS(e)},t),t.g={}}function Mm(){this.g=!0}function ju(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wfe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return dS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Fd.prototype.N=function(){Fd.$.N.call(this),T3(this)},Fd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mm.prototype.Ea=function(){this.g=!1},Mm.prototype.info=function(){};var Xo={},D3=null;function Nm(){return D3=D3||new jt}function b3(t){fn.call(this,Xo.Ta,t)}function Vd(t){const e=Nm();Jt(e,new b3(e))}function S3(t,e){fn.call(this,Xo.STAT_EVENT,t),this.stat=e}function bn(t){const e=Nm();Jt(e,new S3(e,t))}function A3(t,e){fn.call(this,Xo.Ua,t),this.size=e}function Ud(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}Xo.Ta="serverreachability",$t(b3,fn),Xo.STAT_EVENT="statevent",$t(S3,fn),Xo.Ua="timingevent",$t(A3,fn);var Rm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},x3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gS(){}function N3(){}gS.prototype.h=null;var _S,Bd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mS(){fn.call(this,"d")}function yS(){fn.call(this,"c")}function km(){}function $d(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Fd(this),this.P=qfe,this.V=new xm(t=Yb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new R3}function R3(){this.i=null,this.g="",this.h=!1}$t(mS,fn),$t(yS,fn),$t(km,gS),km.prototype.g=function(){return new XMLHttpRequest},km.prototype.i=function(){return{}},_S=new km;var qfe=45e3,vS={},Pm={};function wS(t,e,n){t.L=1,t.v=Vm(Gi(e)),t.s=n,t.S=!0,k3(t,null)}function k3(t,e){t.G=Date.now(),jd(t),t.A=Gi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),H3(n.i,"t",r),t.C=0,n=t.l.J,t.h=new R3,t.g=f$(t.l,n?e:null,!t.s),0<t.O&&(t.M=new jfe(hn(t.Pa,t,t.g),t.O)),C3(t.U,t.g,"readystatechange",t.nb),e=t.I?d3(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Vd(),function Hfe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function P3(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function O3(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Kfe(t,n),i==Pm){4==e&&(t.o=4,bn(14),r=!1),ju(t.j,t.m,null,"[Incomplete Response]");break}if(i==vS){t.o=4,bn(15),ju(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ju(t.j,t.m,i,null),IS(t,i)}P3(t)&&i!=Pm&&i!=vS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),AS(e),e.M=!0,bn(11))):(ju(t.j,t.m,n,"[Invalid Chunked Response]"),Zo(t),Hd(t))}function Kfe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Pm:(n=Number(e.substring(n,r)),isNaN(n)?vS:(r+=1)+n>e.length?Pm:(e=e.slice(r,r+n),t.C=r+n,e))}function jd(t){t.Y=Date.now()+t.P,L3(t,t.P)}function L3(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ud(hn(t.lb,t),e)}function Om(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}function Hd(t){0==t.l.H||t.J||c$(t.l,t)}function Zo(t){Om(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,fS(t.V),T3(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function IS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||ES(n.i,t)))if(!t.K&&ES(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;zm(n),jm(n)}SS(n),bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ud(hn(n.ib,n),6e3));if(1>=W3(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ea(n,11)}else if((t.K||n.g==t)&&zm(n),!Rd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(CS(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ge(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=h$(r,r.J?r.pa:null,r.Y),o.K){q3(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Om(a),jd(a)),r.g=o}else a$(r);0<n.j.length&&Hm(n)}else"stop"!=c[0]&&"close"!=c[0]||ea(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ea(n,7):bS(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Vd()}catch{}}function F3(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Cm(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Yfe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Cm(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Qfe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Cm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(R=$d.prototype).setTimeout=function(t){this.P=t},R.nb=function(t){t=t.target;const e=this.M;e&&3==ai(t)?e.l():this.Pa(t)},R.Pa=function(t){try{if(t==this.g)e:{const l=ai(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Yb||this.g&&(this.h.h||this.g.ja()||t$(this.g)))){this.J||4!=l||7==e||Vd(),Om(this);var n=this.g.da();this.ca=n;t:if(P3(this)){var r=t$(this.g);t="";var i=r.length,s=4==ai(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zo(this),Hd(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function zfe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rd(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,bn(12),Zo(this),Hd(this);break e}ju(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IS(this,n)}this.S?(O3(this,l,o),Yb&&this.i&&3==l&&(C3(this.U,this.V,"tick",this.mb),this.V.start())):(ju(this.j,this.m,o,null),IS(this,o)),4==l&&Zo(this),this.i&&!this.J&&(4==l?c$(this.l,this):(this.i=!1,jd(this)))}else(function ppe(t){const e={};t=(t.g&&2<=ai(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Rd(t[r]))continue;var n=Ufe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Rfe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),Zo(this),Hd(this)}}}catch{}},R.mb=function(){if(this.g){var t=ai(this.g),e=this.g.ja();this.C<e.length&&(Om(this),O3(this,t,e),this.i&&4!=t&&jd(this))}},R.cancel=function(){this.J=!0,Zo(this)},R.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Gfe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Vd(),bn(17)),Zo(this),this.o=2,Hd(this)):L3(this,this.Y-t)};var V3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Jo){this.h=t.h,Lm(this,t.j),this.s=t.s,this.g=t.g,Fm(this,t.m),this.l=t.l;var e=t.i,n=new Wd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),U3(this,n),this.o=t.o}else t&&(e=String(t).match(V3))?(this.h=!1,Lm(this,e[1]||"",!0),this.s=zd(e[2]||""),this.g=zd(e[3]||"",!0),Fm(this,e[4]),this.l=zd(e[5]||"",!0),U3(this,e[6]||"",!0),this.o=zd(e[7]||"")):(this.h=!1,this.i=new Wd(null,this.h))}function Gi(t){return new Jo(t)}function Lm(t,e,n){t.j=n?zd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function U3(t,e,n){e instanceof Wd?(t.i=e,function rpe(t,e){e&&!t.j&&(Ls(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($3(this,r),H3(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Gd(e,tpe)),t.i=new Wd(e,t.h))}function Ge(t,e,n){t.i.set(e,n)}function Vm(t){return Ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Zfe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zfe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Jo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Gd(e,B3,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Gd(e,B3,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gd(n,"/"==n.charAt(0)?epe:Jfe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Gd(n,npe)),t.join("")};var B3=/[#\/\?@]/g,Jfe=/[#\?:]/g,epe=/[#\?]/g,tpe=/[#\?@]/g,npe=/#/g;function Wd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ls(t){t.g||(t.g=new Map,t.h=0,t.i&&function Xfe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $3(t,e){Ls(t),e=Hu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function j3(t,e){return Ls(t),e=Hu(t,e),t.g.has(e)}function H3(t,e,n){$3(t,e),0<n.length&&(t.i=null,t.g.set(Hu(t,e),Kb(n)),t.h+=n.length)}function Hu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function z3(t){this.l=t||spe,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=Wd.prototype).add=function(t,e){Ls(this),this.i=null,t=Hu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){Ls(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},R.ta=function(){Ls(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},R.Z=function(t){Ls(this);let e=[];if("string"==typeof t)j3(this,t)&&(e=e.concat(this.g.get(Hu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},R.set=function(t,e){return Ls(this),this.i=null,j3(this,t=Hu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var spe=10;function G3(t){return!!t.h||!!t.g&&t.g.size>=t.j}function W3(t){return t.h?1:t.g?t.g.size:0}function ES(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function CS(t,e){t.g?t.g.add(e):t.h=e}function q3(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function K3(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Kb(t.i)}z3.prototype.cancel=function(){if(this.i=K3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ope=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function ape(){this.g=new ope}function upe(t,e,n){const r=n||"";try{F3(t,function(i,s){let o=i;Nd(i)&&(o=dS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Um(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qd(t){this.l=t.fc||null,this.j=t.ob||!1}function Bm(t,e){jt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=TS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$t(qd,gS),qd.prototype.g=function(){return new Bm(this.l,this.j)},qd.prototype.i=function(t){return function(){return t}}({}),$t(Bm,jt);var TS=0;function Q3(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Kd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qd(t)}function Qd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=Bm.prototype).open=function(t,e){if(this.readyState!=TS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Qd(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kd(this)),this.readyState=TS},R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qd(this)),this.g&&(this.readyState=3,Qd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Q3(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Kd(this):Qd(this),3==this.readyState&&Q3(this)}},R.Za=function(t){this.g&&(this.response=this.responseText=t,Kd(this))},R.Ya=function(t){this.g&&(this.response=t,Kd(this))},R.ka=function(){this.g&&Kd(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Bm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var lpe=ne.JSON.parse;function ot(t){jt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Y3,this.L=this.M=!1}$t(ot,jt);var Y3="",dpe=/^https?$/i,hpe=["POST","PUT"];function X3(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Z3(t),$m(t)}function Z3(t){t.F||(t.F=!0,Jt(t,"complete"),Jt(t,"error"))}function J3(t){if(t.h&&typeof Wb<"u"&&(!t.C[1]||4!=ai(t)||2!=t.da()))if(t.v&&4==ai(t))pS(t.La,0,t);else if(Jt(t,"readystatechange"),4==ai(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(V3)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!dpe.test(i?i.toLowerCase():"")}n=r}if(n)Jt(t,"complete"),Jt(t,"success");else{t.m=6;try{var s=2<ai(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Z3(t)}}finally{$m(t)}}}function $m(t,e){if(t.g){e$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function e$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function ai(t){return t.g?t.g.readyState:0}function t$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Y3:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function n$(t){let e="";return nS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function DS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=n$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ge(t,e,n))}function Yd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function r$(t){this.Ga=0,this.j=[],this.l=new Mm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yd("baseRetryDelayMs",5e3,t),this.hb=Yd("retryDelaySeedMs",1e4,t),this.eb=Yd("forwardChannelMaxRetries",2,t),this.xa=Yd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new z3(t&&t.concurrentRequestLimit),this.Ja=new ape,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bS(t){if(i$(t),3==t.H){var e=t.W++,n=Gi(t.I);if(Ge(n,"SID",t.K),Ge(n,"RID",e),Ge(n,"TYPE","terminate"),Xd(t,n),(e=new $d(t,t.l,e)).L=2,e.v=Vm(Gi(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=f$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jd(e)}d$(t)}function jm(t){t.g&&(AS(t),t.g.cancel(),t.g=null)}function i$(t){jm(t),t.u&&(ne.clearTimeout(t.u),t.u=null),zm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ne.clearTimeout(t.m),t.m=null)}function Hm(t){if(!G3(t.i)&&!t.m){t.m=!0;var e=t.Na;Od||w3(),Ld||(Od(),Ld=!0),hS.add(e,t),t.C=0}}function s$(t,e){var n;n=e?e.m:t.W++;const r=Gi(t.I);Ge(r,"SID",t.K),Ge(r,"RID",n),Ge(r,"AID",t.V),Xd(t,r),t.o&&t.s&&DS(r,t.o,t.s),n=new $d(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=o$(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),CS(t.i,n),wS(n,r,e)}function Xd(t,e){t.na&&nS(t.na,function(n,r){Ge(e,r,n)}),t.h&&F3({},function(n,r){Ge(e,r,n)})}function o$(t,e,n){n=Math.min(t.j.length,n);var r=t.h?hn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{upe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function a$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Od||w3(),Ld||(Od(),Ld=!0),hS.add(e,t),t.A=0}}function SS(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ud(hn(t.Ma,t),l$(t,t.A)),t.A++,0))}function AS(t){null!=t.B&&(ne.clearTimeout(t.B),t.B=null)}function u$(t){t.g=new $d(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Gi(t.wa);Ge(e,"RID","rpc"),Ge(e,"SID",t.K),Ge(e,"AID",t.V),Ge(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ge(e,"TO",t.qa),Ge(e,"TYPE","xmlhttp"),Xd(t,e),t.o&&t.s&&DS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Vm(Gi(e)),n.s=null,n.S=!0,k3(n,t)}function zm(t){null!=t.v&&(ne.clearTimeout(t.v),t.v=null)}function c$(t,e){var n=null;if(t.g==e){zm(t),AS(t),t.g=null;var r=2}else{if(!ES(t.i,e))return;n=e.F,q3(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Jt(r=Nm(),new A3(r,n)),Hm(t)}else a$(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function gpe(t,e){return!(W3(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ud(hn(t.Na,t,e),l$(t,t.C)),t.C++,0)))}(t,e)||2==r&&SS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ea(t,5);break;case 4:ea(t,10);break;case 3:ea(t,6);break;default:ea(t,2)}}function l$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ea(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=hn(t.pb,t);n||(n=new Jo("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||Lm(n,"https"),Vm(n)),function cpe(t,e){const n=new Mm;if(ne.Image){const r=new Image;r.onload=Tm(Um,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Tm(Um,n,r,"TestLoadImage: error",!1,e),r.onabort=Tm(Um,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tm(Um,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else bn(2);t.H=0,t.h&&t.h.za(e),d$(t),i$(t)}function d$(t){if(t.H=0,t.ma=[],t.h){const e=K3(t.i);(0!=e.length||0!=t.j.length)&&(o3(t.ma,e),o3(t.ma,t.j),t.i.i.length=0,Kb(t.j),t.j.length=0),t.h.ya()}}function h$(t,e,n){var r=n instanceof Jo?Gi(n):new Jo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Fm(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Jo(null);r&&Lm(s,r),e&&(s.g=e),i&&Fm(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ge(r,n,e),Ge(r,"VER",t.ra),Xd(t,r),r}function f$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ot(n&&t.Ha&&!t.va?new qd({ob:!0}):t.va)).Oa(t.J),e}function p$(){}function Gm(){if($u&&!(10<=Number(Afe)))throw Error("Environmental error: no available transport.")}function Jn(t,e){jt.call(this),this.g=new r$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Rd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rd(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new zu(this)}function g$(t){mS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function m$(){yS.call(this),this.status=1}function zu(t){this.g=t}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(R=ot.prototype).Oa=function(t){this.M=t},R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_S.g(),this.C=function M3(t){return t.h||(t.h=t.i())}(this.u?this.u:_S),this.g.onreadystatechange=hn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void X3(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ne.FormData&&t instanceof ne.FormData,!(0<=s3(hpe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{e$(this),0<this.B&&((this.L=function fpe(t){return $u&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.ua,this)):this.A=pS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){X3(this,s)}},R.ua=function(){typeof Wb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jt(this,"complete"),Jt(this,"abort"),$m(this))},R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$m(this,!0)),ot.$.N.call(this)},R.La=function(){this.s||(this.G||this.v||this.l?J3(this):this.kb())},R.kb=function(){J3(this)},R.isActive=function(){return!!this.g},R.da=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),lpe(e)}},R.Ia=function(){return this.m},R.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=r$.prototype).ra=8,R.H=1,R.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new $d(this,this.l,t);let s=this.s;if(this.U&&(s?(s=d3(s),f3(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=o$(this,i,e),Ge(n=Gi(this.I),"RID",t),Ge(n,"CVER",22),this.F&&Ge(n,"X-HTTP-Session-Id",this.F),Xd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(n$(s)))+"&"+e:this.o&&DS(n,this.o,s)),CS(this.i,i),this.bb&&Ge(n,"TYPE","init"),this.P?(Ge(n,"$req",e),Ge(n,"SID","null"),i.aa=!0,wS(i,n,null)):wS(i,n,e),this.H=2}}else 3==this.H&&(t?s$(this,t):0==this.j.length||G3(this.i)||s$(this))},R.Ma=function(){if(this.u=null,u$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ud(hn(this.jb,this),t)}},R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bn(10),jm(this),u$(this))},R.ib=function(){null!=this.v&&(this.v=null,jm(this),SS(this),bn(19))},R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bn(2)):(this.l.info("Failed to ping google.com"),bn(1))},R.isActive=function(){return!!this.h&&this.h.isActive(this)},(R=p$.prototype).Ba=function(){},R.Aa=function(){},R.za=function(){},R.ya=function(){},R.isActive=function(){return!0},R.Va=function(){},Gm.prototype.g=function(t,e){return new Jn(t,e)},$t(Jn,jt),Jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=h$(t,null,t.Y),Hm(t)},Jn.prototype.close=function(){bS(this.g)},Jn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=dS(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Hm(e)},Jn.prototype.N=function(){this.g.h=null,delete this.j,bS(this.g),delete this.g,Jn.$.N.call(this)},$t(g$,mS),$t(m$,yS),$t(zu,p$),zu.prototype.Ba=function(){Jt(this.g,"a")},zu.prototype.Aa=function(t){Jt(this.g,new g$(t))},zu.prototype.za=function(t){Jt(this.g,new m$)},zu.prototype.ya=function(){Jt(this.g,"b")},$t(Nr,function mpe(){this.blockSize=-1}),Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Nr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)xS(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){xS(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){xS(this,r),i=0;break}}this.h=i,this.i+=e},Nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var ype={};function MS(t){return-128<=t&&128>t?function Dfe(t,e){var n=ype;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new xe([0|e],0>e?-1:0)}):new xe([0|t],0>t?-1:0)}function ui(t){if(isNaN(t)||!isFinite(t))return Gu;if(0>t)return en(ui(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=NS;return new xe(e,0)}var NS=4294967296,Gu=MS(0),RS=MS(1),_$=MS(16777216);function Wi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function pr(t){return-1==t.h}function en(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(RS)}function Wm(t,e){return t.add(en(e))}function qm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zd(t,e){this.g=t,this.h=e}function Km(t,e){if(Wi(e))throw Error("division by zero");if(Wi(t))return new Zd(Gu,Gu);if(pr(t))return e=Km(en(t),e),new Zd(en(e.g),en(e.h));if(pr(e))return e=Km(t,en(e)),new Zd(en(e.g),e.h);if(30<t.g.length){if(pr(t)||pr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=RS,r=e;0>=r.X(t);)n=v$(n),r=v$(r);var i=Wu(n,1),s=Wu(r,1);for(r=Wu(r,2),n=Wu(n,2);!Wi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Wu(r,1),n=Wu(n,1)}return e=Wm(t,i.R(e)),new Zd(i,e)}for(i=Gu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ui(n)).R(e);pr(o)||0<o.X(t);)o=(s=ui(n-=r)).R(e);Wi(s)&&(s=RS),i=i.add(s),t=Wm(t,o)}return new Zd(i,t)}function v$(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function Wu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new xe(i,t.h)}(R=xe.prototype).ea=function(){if(pr(this))return-en(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:NS+r)*e,e*=NS}return t},R.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Wi(this))return"0";if(pr(this))return"-"+en(this).toString(t);for(var e=ui(Math.pow(t,6)),n=this,r="";;){var i=Km(n,e).g,s=((0<(n=Wm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Wi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},R.X=function(t){return pr(t=Wm(this,t))?-1:Wi(t)?0:1},R.abs=function(){return pr(this)?en(this):this},R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new xe(n,-2147483648&n[n.length-1]?-1:0)},R.R=function(t){if(Wi(this)||Wi(t))return Gu;if(pr(this))return pr(t)?en(this).R(en(t)):en(en(this).R(t));if(pr(t))return en(this.R(en(t)));if(0>this.X(_$)&&0>t.X(_$))return ui(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,qm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,qm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,qm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,qm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)},R.gb=function(t){return Km(this,t).h},R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)},R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)},R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)},Gm.prototype.createWebChannel=Gm.prototype.g,Jn.prototype.send=Jn.prototype.u,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,Rm.NO_ERROR=0,Rm.TIMEOUT=8,Rm.HTTP_ERROR=6,x3.COMPLETE="complete",N3.EventType=Bd,Bd.OPEN="a",Bd.CLOSE="b",Bd.ERROR="c",Bd.MESSAGE="d",jt.prototype.listen=jt.prototype.O,ot.prototype.listenOnce=ot.prototype.P,ot.prototype.getLastError=ot.prototype.Sa,ot.prototype.getLastErrorCode=ot.prototype.Ia,ot.prototype.getStatus=ot.prototype.da,ot.prototype.getResponseJson=ot.prototype.Wa,ot.prototype.getResponseText=ot.prototype.ja,ot.prototype.send=ot.prototype.ha,ot.prototype.setWithCredentials=ot.prototype.Oa,Nr.prototype.digest=Nr.prototype.l,Nr.prototype.reset=Nr.prototype.reset,Nr.prototype.update=Nr.prototype.j,xe.prototype.add=xe.prototype.add,xe.prototype.multiply=xe.prototype.R,xe.prototype.modulo=xe.prototype.gb,xe.prototype.compare=xe.prototype.X,xe.prototype.toNumber=xe.prototype.ea,xe.prototype.toString=xe.prototype.toString,xe.prototype.getBits=xe.prototype.D,xe.fromNumber=ui,xe.fromString=function y$(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return en(y$(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ui(Math.pow(e,8)),r=Gu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ui(Math.pow(e,s)),r=r.R(s).add(ui(o))):r=(r=r.R(n)).add(ui(o))}return r},Mr.createWebChannelTransport=function(){return new Gm},Mr.getStatEventTarget=function(){return Nm()},Mr.ErrorCode=Rm,Mr.EventType=x3,Mr.Event=Xo,Mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mr.FetchXmlHttpFactory=qd,Mr.WebChannel=N3,Mr.XhrIo=ot,Mr.Md5=Nr;var _pe=Mr.Integer=xe;const w$="@firebase/firestore";class Ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let Jd="9.23.0";const Fs=new So("@firebase/firestore");function D(t,...e){if(Fs.logLevel<=Z.DEBUG){const n=e.map(PS);Fs.debug(`Firestore (${Jd}): ${t}`,...n)}}function ht(t,...e){if(Fs.logLevel<=Z.ERROR){const n=e.map(PS);Fs.error(`Firestore (${Jd}): ${t}`,...n)}}function PS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${Jd}) INTERNAL ASSERTION FAILED: `+t;throw ht(e),new Error(e)}function U(t,e){t||L()}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class I${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class wpe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ipe{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new I$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Ht(e)}}class Epe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Cpe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Epe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tpe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new E$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dpe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class C${static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Dpe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}class Qm{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Qm.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qm?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends Qm{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}class A{constructor(e){this.path=e}static fromPath(e){return new A(_e.fromString(e))}static fromName(e){return new A(_e.fromString(e).popFirst(5))}static empty(){return new A(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new A(new _e(e.slice()))}}function Us(t){return"IndexedDbTransactionError"===t.name}class Be{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ey(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ey(this.root,e,this.comparator,!1)}getReverseIterator(){return new ey(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ey(this.root,e,this.comparator,!0)}}class ey{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=s??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1,tn.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(t,e,n,r,i){return this}insert(t,e,n){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V$(this.data.getIterator())}getIteratorFrom(e){return new V$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class V${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class U$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new U$("Invalid base64 string: "+i):i}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function at(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}Rt.EMPTY_BYTE_STRING=new Rt("");class Zpe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ra{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ra("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ra&&e.projectId===this.projectId&&e.database===this.database}}var Ct,ve;new Be(A.comparator),new Be(A.comparator),new Be(A.comparator),new We(A.comparator),new We(J),(ve=Ct||(Ct={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS",new _pe([4294967295,4294967295],0);class ha{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(at(e.integerValue));else if("doubleValue"in e){const r=at(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),function rh(t){return 0===t&&1/t==-1/0}(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(function qi(t){return"string"==typeof t?Rt.fromBase64String(t):Rt.fromUint8Array(t)}(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?function H$(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):L()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),A.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ha.Ve=new ha,new Uint8Array(0);class gn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ay(){return typeof document<"u"?document:null}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class xA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class KA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new KA(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class cye{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=C$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){D("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=function hc(t,e){if(ht("AsyncQueue",`${e}: ${t}`),Us(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function s6(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const o6=new Map;function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function Ly(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":L()}(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class l6{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function _ye(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=s6(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l6(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new vpe;switch(n.type){case"firstParty":return new Cpe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=o6.get(e);n&&(D("ComponentProvider","Removing Datastore"),o6.delete(e),n.terminate())}(this),Promise.resolve()}}class Iye{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xA(this,"async_queue_retry"),this.Xc=()=>{const n=Ay();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ay();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ay();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Nt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Us(n))throw n;D("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ht("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=KA.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&L()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ke extends Rh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Iye,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function h6(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Zpe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,s6(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new cye(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function Cye(t,e){const r="string"==typeof t?t:e||"(default)",i=Mo("object"==typeof t?t:og(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=a2("firestore");s&&function vye(t,e,n,r={}){var i;const s=(t=ge(t,Rh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function ci(t,...e){if(Fs.logLevel<=Z.WARN){const n=e.map(PS);Fs.warn(`Firestore (${Jd}): ${t}`,...n)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ht.MOCK_USER;else{a=l2(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ht(c)}t._authCredentials=new wpe(new I$(a,u))}}(i,...s)}return i}!function(t,e=!0){Jd=_s,ln(new Yt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ke(new Ipe(n.getProvider("auth-internal")),new Tpe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ra(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ze(w$,"3.13.0",t),ze(w$,"3.13.0","esm2017")}();class H1{constructor(e){return e}}const k6="firestore",z1=new B("angularfire2.firestore-instances");function Yye(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new H1(r)}}const Xye={provide:class Kye{constructor(){return pg(k6)}},deps:[[new At,z1]]},Zye={provide:H1,useFactory:function Qye(t,e){const n=fg(k6,t,e);return n&&new H1(n)},deps:[[new At,z1],Fo]};let Jye=(()=>{class t{constructor(){ze("angularfire",Gl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yr({type:t}),t.\u0275inj=ir({providers:[Zye,Xye]}),t})();function e_e(t,...e){return{ngModule:Jye,providers:[{provide:z1,useFactory:Yye(t),multi:!0,deps:[ke,Kn,gg,yg,[new At,PD],[new At,Dg],...e]}]}}const t_e=mg(Cye,!0);let n_e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yr({type:t,bootstrap:[pte]}),t.\u0275inj=ir({imports:[wZ,ate,aoe(()=>uoe(coe_firebase)),Hce(()=>zce()),mfe(()=>yfe()),e_e(()=>t_e())]}),t})();_Z().bootstrapModule(n_e).catch(t=>console.error(t))}},Re=>{Re(Re.s=35)}]);